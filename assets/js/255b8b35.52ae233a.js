"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[27812],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>m});var o=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=o.createContext({}),d=function(e){var n=o.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=d(e.components);return o.createElement(s.Provider,{value:n},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},h=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=d(t),h=a,m=p["".concat(s,".").concat(h)]||p[h]||c[h]||r;return t?o.createElement(m,l(l({ref:n},u),{},{components:t})):o.createElement(m,l({ref:n},u))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,l=new Array(r);l[0]=h;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[p]="string"==typeof e?e:a,l[1]=i;for(var d=2;d<r;d++)l[d]=t[d];return o.createElement.apply(null,l)}return o.createElement.apply(null,t)}h.displayName="MDXCreateElement"},20957:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var o=t(87462),a=(t(67294),t(3905));const r={sidebar_position:9},l="Controlling sound volume and panning",i={unversionedId:"development/rich-media-content/working-with-sound/controlling-sound-volume-and-panning",id:"development/rich-media-content/working-with-sound/controlling-sound-volume-and-panning",title:"Controlling sound volume and panning",description:"An individual SoundChannel object controls both the left and the right stereo",source:"@site/docs/development/rich-media-content/working-with-sound/controlling-sound-volume-and-panning.md",sourceDirName:"development/rich-media-content/working-with-sound",slug:"/development/rich-media-content/working-with-sound/controlling-sound-volume-and-panning",permalink:"/docs/development/rich-media-content/working-with-sound/controlling-sound-volume-and-panning",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/rich-media-content/working-with-sound/controlling-sound-volume-and-panning.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"mainSidebar",previous:{title:"Security considerations when loading and playing sounds",permalink:"/docs/development/rich-media-content/working-with-sound/security-considerations-when-loading-and-playing-sounds"},next:{title:"Working with sound metadata",permalink:"/docs/development/rich-media-content/working-with-sound/working-with-sound-metadata"}},s={},d=[],u={toc:d},p="wrapper";function c(e){let{components:n,...t}=e;return(0,a.kt)(p,(0,o.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"controlling-sound-volume-and-panning"},"Controlling sound volume and panning"),(0,a.kt)("p",null,"An individual SoundChannel object controls both the left and the right stereo\nchannels for a sound. If an mp3 sound is a monaural sound, the left and right\nstereo channels of the SoundChannel object will contain identical waveforms."),(0,a.kt)("p",null,"You can find out the amplitude of each stereo channel of the sound being played\nusing the ",(0,a.kt)("inlineCode",{parentName:"p"},"leftPeak")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"rightPeak")," properties of the SoundChannel object.\nThese properties show the peak amplitude of the sound waveform itself. They do\nnot represent the actual playback volume. The actual playback volume is a\nfunction of the amplitude of the sound wave and the volume values set in the\nSoundChannel object and the SoundMixer class."),(0,a.kt)("p",null,"The pan property of a SoundChannel object can be used to specify a different\nvolume level for each of the left and right channels during playback. The pan\nproperty can have a value ranging from -1 to 1, where -1 means the left channel\nplays at top volume while the right channel is silent, and 1 means the right\nchannel plays at top volume while the left channel is silent. Numeric values in\nbetween -1 and 1 set proportional values for the left and right channel values,\nand a value of 0 means that both channels play at a balanced, mid-volume level."),(0,a.kt)("p",null,"The following code example creates a SoundTransform object with a volume value\nof 0.6 and a pan value of -1 (top left channel volume and no right channel\nvolume). It passes the SoundTransform object as a parameter to the ",(0,a.kt)("inlineCode",{parentName:"p"},"play()"),"\nmethod, which applies that SoundTransform object to the new SoundChannel object\nthat is created to control the playback."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'var snd:Sound = new Sound(new URLRequest("bigSound.mp3"));\nvar trans:SoundTransform = new SoundTransform(0.6, -1);\nvar channel:SoundChannel = snd.play(0, 1, trans);\n')),(0,a.kt)("p",null,"You can alter the volume and panning while a sound is playing by setting the\n",(0,a.kt)("inlineCode",{parentName:"p"},"pan")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"volume")," properties of a SoundTransform object and then applying that\nobject as the ",(0,a.kt)("inlineCode",{parentName:"p"},"soundTransform")," property of a SoundChannel object."),(0,a.kt)("p",null,"You can also set global volume and pan values for all sounds at once using the\n",(0,a.kt)("inlineCode",{parentName:"p"},"soundTransform")," property of the SoundMixer class, as the following example\nshows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"SoundMixer.soundTransform = new SoundTransform(1, -1);\n")),(0,a.kt)("p",null,"You can also use a SoundTransform object to set volume and pan values for a\nMicrophone object (see ",(0,a.kt)("a",{parentName:"p",href:"/docs/development/rich-media-content/working-with-sound/capturing-sound-input"},"Capturing sound input"),") and\nfor Sprite objects and SimpleButton objects."),(0,a.kt)("p",null,"The following example alternates the panning of the sound from the left channel\nto the right channel and back while the sound plays."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'import flash.events.Event;\nimport flash.media.Sound;\nimport flash.media.SoundChannel;\nimport flash.media.SoundMixer;\nimport flash.net.URLRequest;\n\nvar snd:Sound = new Sound();\nvar req:URLRequest = new URLRequest("bigSound.mp3");\nsnd.load(req);\n\nvar panCounter:Number = 0;\n\nvar trans:SoundTransform;\ntrans = new SoundTransform(1, 0);\nvar channel:SoundChannel = snd.play(0, 1, trans);\nchannel.addEventListener(Event.SOUND_COMPLETE, onPlaybackComplete);\n\naddEventListener(Event.ENTER_FRAME, onEnterFrame);\n\nfunction onEnterFrame(event:Event):void\n{\n    trans.pan = Math.sin(panCounter);\n    channel.soundTransform = trans; // or SoundMixer.soundTransform = trans;\n    panCounter += 0.05;\n}\n\nfunction onPlaybackComplete(event:Event):void\n{\n    removeEventListener(Event.ENTER_FRAME, onEnterFrame);\n}\n')),(0,a.kt)("p",null,"This code starts by loading a sound file and then creating a new SoundTransform\nobject with volume set to 1 (full volume) and pan set to 0 (evenly balanced\nbetween left and right). Then it calls the ",(0,a.kt)("inlineCode",{parentName:"p"},"snd.play()")," method, passing the\nSoundTransform object as a parameter."),(0,a.kt)("p",null,"While the sound plays, the ",(0,a.kt)("inlineCode",{parentName:"p"},"onEnterFrame()")," method executes repeatedly. The\n",(0,a.kt)("inlineCode",{parentName:"p"},"onEnterFrame()")," method uses the ",(0,a.kt)("inlineCode",{parentName:"p"},"Math.sin()")," function to generate a value\nbetween -1 and 1, a range that corresponds to the acceptable values of the\n",(0,a.kt)("inlineCode",{parentName:"p"},"SoundTransform.pan")," property. The SoundTransform object's ",(0,a.kt)("inlineCode",{parentName:"p"},"pan")," property is set\nto the new value, and then the channel's ",(0,a.kt)("inlineCode",{parentName:"p"},"soundTransform")," property is set to use\nthe altered SoundTransform object."),(0,a.kt)("p",null,"To run this example, replace the filename bigSound.mp3 with the name of a local\nmp3 file. Then run the example. You should hear the left channel volume getting\nlouder while the right channel volume gets softer, and vice versa."),(0,a.kt)("p",null,"In this example, the same effect could be achieved by setting the\n",(0,a.kt)("inlineCode",{parentName:"p"},"soundTransform")," property of the SoundMixer class. However, that would affect\nthe panning of all sounds currently playing, not just the single sound being\nplayed by this SoundChannel object."))}c.isMDXComponent=!0}}]);