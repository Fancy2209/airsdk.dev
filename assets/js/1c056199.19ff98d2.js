"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[82231],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>u});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=r.createContext({}),s=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},l=function(e){var n=s(e.components);return r.createElement(c.Provider,{value:n},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),d=s(t),m=o,u=d["".concat(c,".").concat(m)]||d[m]||h[m]||i;return t?r.createElement(u,a(a({ref:n},l),{},{components:t})):r.createElement(u,a({ref:n},l))}));function u(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=m;var p={};for(var c in n)hasOwnProperty.call(n,c)&&(p[c]=n[c]);p.originalType=e,p[d]="string"==typeof e?e:o,a[1]=p;for(var s=2;s<i;s++)a[s]=t[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},99778:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>p,toc:()=>s});var r=t(87462),o=(t(67294),t(3905));const i={},a="Example: Perspective projection",p={unversionedId:"development/display/working-in-three-dimensions/example-perspective-projection",id:"development/display/working-in-three-dimensions/example-perspective-projection",title:"Example: Perspective projection",description:"The following example demonstrates the use of perspective projection to create",source:"@site/docs/development/display/working-in-three-dimensions/example-perspective-projection.md",sourceDirName:"development/display/working-in-three-dimensions",slug:"/development/display/working-in-three-dimensions/example-perspective-projection",permalink:"/docs/development/display/working-in-three-dimensions/example-perspective-projection",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/display/working-in-three-dimensions/example-perspective-projection.md",tags:[],version:"current",frontMatter:{},sidebar:"mainSidebar",previous:{title:"Creating and moving 3D display objects",permalink:"/docs/development/display/working-in-three-dimensions/creating-and-moving-3d-display-objects"},next:{title:"Performing complex 3D transformations",permalink:"/docs/development/display/working-in-three-dimensions/performing-complex-3d-transformations"}},c={},s=[],l={toc:s},d="wrapper";function h(e){let{components:n,...t}=e;return(0,o.kt)(d,(0,r.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"example-perspective-projection"},"Example: Perspective projection"),(0,o.kt)("p",null,"The following example demonstrates the use of perspective projection to create\n3D space. It shows how you can modify the vanishing point and change the\nperspective projection of the space through the ",(0,o.kt)("inlineCode",{parentName:"p"},"projectionCenter")," property.\nThis modification forces the recalculation of the ",(0,o.kt)("inlineCode",{parentName:"p"},"focalLength")," and\n",(0,o.kt)("inlineCode",{parentName:"p"},"fieldOfView")," with its concomitant distortion of the 3D space."),(0,o.kt)("p",null,"This example:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Creates a sprite named ",(0,o.kt)("inlineCode",{parentName:"p"},"center"),", as a circle with cross hairs")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Assigns the coordinates of the ",(0,o.kt)("inlineCode",{parentName:"p"},"center")," sprite to the ",(0,o.kt)("inlineCode",{parentName:"p"},"projectionCenter"),"\nproperty of the ",(0,o.kt)("inlineCode",{parentName:"p"},"perspectiveProjection")," property of the ",(0,o.kt)("inlineCode",{parentName:"p"},"transform")," property\nof the root")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Adds event listeners for mouse events that call handlers that modify the\n",(0,o.kt)("inlineCode",{parentName:"p"},"projectionCenter")," so that it follows the location of the ",(0,o.kt)("inlineCode",{parentName:"p"},"center")," object")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Creates four accordion-style boxes that form the walls of the perspective\nspace"))),(0,o.kt)("p",null,"When you test this example, ProjectionDragger.swf, drag the circle around to\ndifferent locations. The vanishing point follows the circle, landing wherever\nyou drop it. Watch the boxes that enclose the space stretch and become distorted\nwhen you move the projection center far from the center of the stage."),(0,o.kt)("p",null,"To get the application files for this sample, see\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/joshtynjala/flash-platform-as3-dev-guide-examples/releases/tag/original"},(0,o.kt)("em",{parentName:"a"},"FlashPlatformAS3DevGuideExamples.zip")),".\nThe ProjectionDragger application files are in the Samples/ProjectionDragger\nfolder."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"package\n{\n    import flash.display.Sprite;\n    import flash.display.Shape;\n    import flash.geom.Point;\n    import flash.events.*;\n    public class ProjectionDragger extends Sprite\n    {\n        private var center : Sprite;\n        private var boxPanel:Shape;\n        private var inDrag:Boolean = false;\n\n        public function ProjectionDragger():void\n        {\n            createBoxes();\n            createCenter();\n        }\n        public function createCenter():void\n        {\n            var  centerRadius:int = 20;\n\n            center = new Sprite();\n\n            // circle\n            center.graphics.lineStyle(1, 0x000099);\n            center.graphics.beginFill(0xCCCCCC, 0.5);\n            center.graphics.drawCircle(0, 0, centerRadius);\n            center.graphics.endFill();\n            // cross hairs\n            center.graphics.moveTo(0, centerRadius);\n            center.graphics.lineTo(0, -centerRadius);\n            center.graphics.moveTo(centerRadius, 0);\n            center.graphics.lineTo(-centerRadius, 0);\n            center.x = 175;\n            center.y = 175;\n            center.z = 0;\n            this.addChild(center);\n\n            center.addEventListener(MouseEvent.MOUSE_DOWN, startDragProjectionCenter);\n            center.addEventListener(MouseEvent.MOUSE_UP, stopDragProjectionCenter);\n            center.addEventListener( MouseEvent.MOUSE_MOVE, doDragProjectionCenter);\n            root.transform.perspectiveProjection.projectionCenter = new Point(center.x, center.y);\n        }\n        public function createBoxes():void\n        {\n            // createBoxPanel();\n            var boxWidth:int = 50;\n            var boxHeight:int = 50;\n            var numLayers:int = 12;\n            var depthPerLayer:int = 50;\n\n            // var boxVec:Vector.<Shape> = new Vector.<Shape>(numLayers);\n            for (var i:int = 0; i < numLayers; i++)\n            {\n                this.addChild(createBox(150, 50, (numLayers - i) * depthPerLayer, boxWidth, boxHeight, 0xCCCCFF));\n                this.addChild(createBox(50, 150, (numLayers - i) * depthPerLayer, boxWidth, boxHeight, 0xFFCCCC));\n                this.addChild(createBox(250, 150, (numLayers - i) * depthPerLayer, boxWidth, boxHeight, 0xCCFFCC));\n                this.addChild(createBox(150, 250, (numLayers - i) * depthPerLayer, boxWidth, boxHeight, 0xDDDDDD));\n            }\n        }\n\n        public function createBox(xPos:int = 0, yPos:int = 0, zPos:int = 100, w:int = 50, h:int = 50, color:int = 0xDDDDDD):Shape\n        {\n            var box:Shape = new Shape();\n            box.graphics.lineStyle(2, 0x666666);\n            box.graphics.beginFill(color, 1.0);\n            box.graphics.drawRect(0, 0, w, h);\n            box.graphics.endFill();\n            box.x = xPos;\n            box.y = yPos;\n            box.z = zPos;\n            return box;\n        }\n        public function startDragProjectionCenter(e:Event)\n        {\n            center.startDrag();\n            inDrag = true;\n        }\n\n        public function doDragProjectionCenter(e:Event)\n        {\n            if (inDrag)\n            {\n                root.transform.perspectiveProjection.projectionCenter = new Point(center.x, center.y);\n            }\n        }\n\n        public function stopDragProjectionCenter(e:Event)\n        {\n            center.stopDrag();\n            root.transform.perspectiveProjection.projectionCenter = new Point(center.x, center.y);\n            inDrag = false;\n        }\n    }\n}\n")),(0,o.kt)("p",null,"For more complex perspective projection, use the Matrix3D class."))}h.isMDXComponent=!0}}]);