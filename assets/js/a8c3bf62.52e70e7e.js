"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[57916],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>u});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},h="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),h=c(a),m=o,u=h["".concat(s,".").concat(m)]||h[m]||p[m]||r;return a?n.createElement(u,i(i({ref:t},d),{},{components:a})):n.createElement(u,i({ref:t},d))}));function u(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[h]="string"==typeof e?e:o,i[1]=l;for(var c=2;c<r;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},51150:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var n=a(87462),o=(a(67294),a(3905));const r={sidebar_position:1},i="Shared objects",l={unversionedId:"development/files-and-data/storing-local-data/shared-objects",id:"development/files-and-data/storing-local-data/shared-objects",title:"Shared objects",description:'A shared object, sometimes referred to as a "Flash cookie," is a data file that',source:"@site/docs/development/files-and-data/storing-local-data/shared-objects.md",sourceDirName:"development/files-and-data/storing-local-data",slug:"/development/files-and-data/storing-local-data/shared-objects",permalink:"/docs/development/files-and-data/storing-local-data/shared-objects",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/files-and-data/storing-local-data/shared-objects.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"mainSidebar",previous:{title:"Storing local data",permalink:"/docs/development/files-and-data/storing-local-data/"},next:{title:"Encrypted local storage",permalink:"/docs/development/files-and-data/storing-local-data/encrypted-local-storage"}},s={},c=[{value:"About shared objects",id:"about-shared-objects",level:2},{value:"Shared objects compared with cookies",id:"shared-objects-compared-with-cookies",level:3},{value:"About the SharedObject class",id:"about-the-sharedobject-class",level:3},{value:"Creating a shared object",id:"creating-a-shared-object",level:2},{value:"Specifying a path",id:"specifying-a-path",level:3},{value:"Adding data to a shared object",id:"adding-data-to-a-shared-object",level:3},{value:"Storing objects in shared objects",id:"storing-objects-in-shared-objects",level:4},{value:"Storing typed objects in shared objects",id:"storing-typed-objects-in-shared-objects",level:4},{value:"(iOS only) Prevent cloud backup of local shared objects",id:"ios-only-prevent-cloud-backup-of-local-shared-objects",level:3},{value:"Creating multiple shared objects",id:"creating-multiple-shared-objects",level:3},{value:"Creating a secure SharedObject",id:"creating-a-secure-sharedobject",level:2},{value:"Displaying contents of a shared object",id:"displaying-contents-of-a-shared-object",level:2},{value:"Destroying shared objects",id:"destroying-shared-objects",level:2},{value:"SharedObject example",id:"sharedobject-example",level:2}],d={toc:c},h="wrapper";function p(e){let{components:t,...a}=e;return(0,o.kt)(h,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"shared-objects"},"Shared objects"),(0,o.kt)("p",null,'A shared object, sometimes referred to as a "Flash cookie," is a data file that\ncan be created on your computer by the sites that you visit. Shared objects are\nmost often used to enhance your web-browsing experience\u2014for example, by allowing\nyou to personalize the look and feel of a website that you frequently visit.'),(0,o.kt)("h2",{id:"about-shared-objects"},"About shared objects"),(0,o.kt)("p",null,"Shared objects function like browser cookies. You use the\n",(0,o.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/net/SharedObject.html"},"SharedObject"),"\nclass to store data on the user's local hard disk and call that data during the\nsame session or in a later session. Applications can access only their own\nSharedObject data, and only if they are running on the same domain. The data is\nnot sent to the server and is not accessible by other applications running on\nother domains, but can be made accessible by applications from the same domain."),(0,o.kt)("h3",{id:"shared-objects-compared-with-cookies"},"Shared objects compared with cookies"),(0,o.kt)("p",null,"Cookies and shared objects are very similar. Because most web programmers are\nfamiliar with how cookies work, it might be useful to compare cookies and local\nSharedObjects."),(0,o.kt)("p",null,"Cookies that adhere to the RFC 2109 standard generally have the following\nproperties:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"They can expire, and often do at the end of a session by default.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"They can be disabled by the client on a site-specific basis.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"There is a limit of 300 cookies total, and 20 cookies maximum per site.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"They are usually limited to a size of 4 KB each.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"They are sometimes perceived to be a security threat, and as a result, they\nare sometimes disabled on the client.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"They are stored in a location specified by the client browser.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"They are transmitted from client to server through HTTP."),(0,o.kt)("p",{parentName:"li"},"In contrast, shared objects have the following properties:")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"They do not expire by default.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"By default, they are limited to a size of 100 KB each.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"They can store simple data types (such as String, Array, and Date).")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"They are stored in a location specified by the application (within the user's\nhome directory).")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"They are never transmitted between the client and server."))),(0,o.kt)("h3",{id:"about-the-sharedobject-class"},"About the SharedObject class"),(0,o.kt)("p",null,"Using the\n",(0,o.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/net/SharedObject.html"},"SharedObject"),"\nclass, you can create and delete shared objects, as well as detect the current\nsize of a SharedObject object that you are using."),(0,o.kt)("h2",{id:"creating-a-shared-object"},"Creating a shared object"),(0,o.kt)("p",null,"To create a\n",(0,o.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/net/SharedObject.html"},"SharedObject"),"\nobject, use the ",(0,o.kt)("inlineCode",{parentName:"p"},"SharedObject.getLocal()")," method, which has the following\nsyntax:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'SharedObject.getLocal("objectName" [, pathname]): SharedObject\n')),(0,o.kt)("p",null,"The following example creates a shared object called mySO:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'public var mySO:SharedObject;\nmySO = SharedObject.getLocal("preferences");\n')),(0,o.kt)("p",null,"This creates a file on the client's machine called preferences.sol."),(0,o.kt)("p",null,"The term ",(0,o.kt)("em",{parentName:"p"},"local")," refers to the location of the shared object. In this case,\nAdobe\xae Flash\xae Player stores the SharedObject file locally in the client's home\ndirectory."),(0,o.kt)("p",null,"When you create a shared object, Flash Player creates a new directory for the\napplication and domain inside its sandbox. It also creates a ","*",".sol file that\nstores the SharedObject data. The default location of this file is a\nsubdirectory of the user's home directory. The following table shows the default\nlocations of this directory:"),(0,o.kt)("table",null,(0,o.kt)("thead",null,(0,o.kt)("tr",null,(0,o.kt)("th",null,(0,o.kt)("p",null,"Operating System")),(0,o.kt)("th",null,(0,o.kt)("p",null,"Location")))),(0,o.kt)("tbody",null,(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("p",null,"Windows 95/98/ME/2000/XP")),(0,o.kt)("td",null,(0,o.kt)("div",null,(0,o.kt)("pre",null,(0,o.kt)("code",null,"c:/Documents and Settings/username/Application Data/Macromedia/Flash Player/#SharedObjects"))))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("p",null,"Windows Vista/Windows 7")),(0,o.kt)("td",null,(0,o.kt)("div",null,(0,o.kt)("pre",null,(0,o.kt)("code",null,"c:/Users/username/AppData/Roaming/Macromedia/Flash Player/#SharedObjects"))))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("p",null,"Macintosh OS X")),(0,o.kt)("td",null,(0,o.kt)("div",null,(0,o.kt)("pre",null,(0,o.kt)("code",null,"/Users/username/Library/Preferences/Macromedia/Flash Player/#SharedObjects/web_domain/path_to_application/application_name/object_name.sol"))))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("p",null,"Linux/Unix")),(0,o.kt)("td",null,(0,o.kt)("div",null,(0,o.kt)("pre",null,(0,o.kt)("code",null,"/home/username/.macromedia/Flash_Player/#SharedObjects/web_domain/path_to_application/application_name/object_name.sol"))))))),(0,o.kt)("p",null,"Below the ","#","SharedObjects directory is a randomly-named directory. Below that is\na directory that matches the hostname, then the path to the application, and\nfinally the ","*",".sol file."),(0,o.kt)("p",null,"For example, if you request an application named MyApp.swf on the local host,\nand within a subdirectory named /sos, Flash Player stores the ","*",".sol file in the\nfollowing location on Windows XP:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"c:/Documents and Settings/fred/Application Data/Macromedia/Flash Player/#SharedObjects/KROKWXRK/#localhost/sos/MyApp.swf/data.sol\n")),(0,o.kt)("p",null,"Note: If you do not provide a name in the ",(0,o.kt)("inlineCode",{parentName:"p"},"SharedObject.getLocal()")," method,\nFlash Player names the file undefined.sol."),(0,o.kt)("p",null,"By default, Flash can save locally persistent SharedObject objects of up to 100\nKB per domain. This value is user-configurable. When the application tries to\nsave data to a shared object that would make it bigger than 100 KB, Flash Player\ndisplays the Local Storage dialog box, which lets the user allow or deny more\nlocal storage for the domain that is requesting access."),(0,o.kt)("h3",{id:"specifying-a-path"},"Specifying a path"),(0,o.kt)("p",null,"You can use the optional ",(0,o.kt)("em",{parentName:"p"},"pathname")," parameter to specify a location for the\n",(0,o.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/net/SharedObject.html"},"SharedObject"),"\nfile. This file must be a subdirectory of that domain's SharedObject directory.\nFor example, if you request an application on the localhost and specify the\nfollowing:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'mySO = SharedObject.getLocal("myObjectFile","/");\n')),(0,o.kt)("p",null,"Flash Player writes the SharedObject file in the /#localhost directory (or\n/localhost if the application is offline). This is useful if you want more than\none application on the client to be able to access the same shared object. In\nthis case, the client could run two Flex applications, both of which specify a\npath to the shared object that is the root of the domain; the client could then\naccess the same shared object from both applications. To share data between more\nthan application without persistence, you can use the LocalConnection object."),(0,o.kt)("p",null,"If you specify a directory that does not exist, Flash Player does not create a\nSharedObject file."),(0,o.kt)("h3",{id:"adding-data-to-a-shared-object"},"Adding data to a shared object"),(0,o.kt)("p",null,"You add data to a\n",(0,o.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/net/SharedObject.html"},"SharedObject"),"\n's ","*",".sol file using the ",(0,o.kt)("inlineCode",{parentName:"p"},"data")," property of the SharedObject object. To add new\ndata to the shared object, use the following syntax:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"sharedObject_name.data.variable = value;\n")),(0,o.kt)("p",null,"The following example adds the ",(0,o.kt)("inlineCode",{parentName:"p"},"userName"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"itemNumbers"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"adminPrivileges"),"\nproperties and their values to a SharedObject:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'public var currentUserName:String = "Reiner";\npublic var itemsArray:Array = new Array(101,346,483);\npublic var currentUserIsAdmin:Boolean = true;\nmySO.data.userName = currentUserName;\nmySO.data.itemNumbers = itemsArray;\nmySO.data.adminPrivileges = currentUserIsAdmin;\n')),(0,o.kt)("p",null,"After you assign values to the ",(0,o.kt)("inlineCode",{parentName:"p"},"data")," property, you must instruct Flash Player\nto write those values to the SharedObject's file. To force Flash Player to write\nthe values to the SharedObject's file, use the ",(0,o.kt)("inlineCode",{parentName:"p"},"SharedObject"),". ",(0,o.kt)("inlineCode",{parentName:"p"},"flush()")," method,\nas follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"mySO.flush();\n")),(0,o.kt)("p",null,"If you do not call the ",(0,o.kt)("inlineCode",{parentName:"p"},"SharedObject.flush()")," method, Flash Player writes the\nvalues to the file when the application quits. However, this does not provide\nthe user with an opportunity to increase the available space that Flash Player\nhas to store the data if that data exceeds the default settings. Therefore, it\nis a good practice to call ",(0,o.kt)("inlineCode",{parentName:"p"},"SharedObject.flush()"),"."),(0,o.kt)("p",null,"When using the ",(0,o.kt)("inlineCode",{parentName:"p"},"flush()")," method to write shared objects to a user's hard drive,\nyou should be careful to check whether the user has explicitly disabled local\nstorage using the Flash Player Settings Manager (\n",(0,o.kt)("a",{parentName:"p",href:"http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager07.html"},"www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager07.html"),"),\nas shown in the following example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'var so:SharedObject = SharedObject.getLocal("test");\ntrace("Current SharedObject size is " + so.size + " bytes.");\nso.flush();\n')),(0,o.kt)("h4",{id:"storing-objects-in-shared-objects"},"Storing objects in shared objects"),(0,o.kt)("p",null,"You can store simple objects such as Arrays or Strings in a SharedObject's\n",(0,o.kt)("inlineCode",{parentName:"p"},"data")," property."),(0,o.kt)("p",null,"The following example is an ActionScript class that defines methods that control\nthe interaction with the shared object. These methods let the user add and\nremove objects from the shared object. This class stores an ArrayCollection that\ncontains simple objects."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'package {\n    import mx.collections.ArrayCollection;\n    import flash.net.SharedObject;\n\n    public class LSOHandler {\n\n        private var mySO:SharedObject;\n        private var ac:ArrayCollection;\n        private var lsoType:String;\n\n        // The parameter is "feeds" or "sites".\n        public function LSOHandler(s:String) {\n            init(s);\n        }\n\n        private function init(s:String):void {\n            ac = new ArrayCollection();\n            lsoType = s;\n            mySO = SharedObject.getLocal(lsoType);\n            if (getObjects()) {\n                ac = getObjects();\n            }\n        }\n\n        public function getObjects():ArrayCollection {\n            return mySO.data[lsoType];\n        }\n\n        public function addObject(o:Object):void {\n            ac.addItem(o);\n            updateSharedObjects();\n        }\n\n        private function updateSharedObjects():void {\n            mySO.data[lsoType] = ac;\n            mySO.flush();\n        }\n    }\n\n}\n')),(0,o.kt)("p",null,"The following Flex application creates an instance of the ActionScript class for\neach of the types of shared objects it needs. It then calls methods on that\nclass when the user adds or removes blogs or site URLs."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'<?xml version="1.0"?>\n\x3c!-- lsos/BlogAggregator.mxml --\x3e\n<mx:Application\n    xmlns:local="*"\n    xmlns:mx="https://www.adobe.com/2006/mxml"\n    creationComplete="initApp()"\n    backgroundColor="#ffffff">\n\n    <mx:Script>\n    <![CDATA[\n        import mx.collections.ArrayCollection;\n        import mx.utils.ObjectUtil;\n        import flash.net.SharedObject;\n\n        [Bindable]\n        public var welcomeMessage:String;\n\n        [Bindable]\n        public var localFeeds:ArrayCollection = new ArrayCollection();\n\n        [Bindable]\n        public var localSites:ArrayCollection = new ArrayCollection();\n\n        public var lsofeeds:LSOHandler;\n        public var lsosites:LSOHandler;\n\n        private function initApp():void {\n            lsofeeds = new LSOHandler("feeds");\n            lsosites = new LSOHandler("sites");\n\n            if (lsofeeds.getObjects()) {\n                localFeeds = lsofeeds.getObjects();\n            }\n            if (lsosites.getObjects()) {\n                localSites = lsosites.getObjects();\n            }\n        }\n\n        // Adds a new feed to the feeds DataGrid.\n        private function addFeed():void {\n            // Construct an object you want to store in the\n            // LSO. This object can contain any number of fields.\n            var o:Object = {name:ti1.text, url:ti2.text, date:new Date()};\n            lsofeeds.addObject(o);\n\n            // Because the DataGrid\'s dataProvider property is\n            // bound to the ArrayCollection, Flex updates the\n            // DataGrid when you call this method.\n            localFeeds = lsofeeds.getObjects();\n\n            // Clear the text fields.\n            ti1.text = \'\';\n            ti2.text = \'\';\n        }\n\n        // Removes feeds from the feeds DataGrid.\n        private function removeFeed():void {\n            // Use a method of ArrayCollection to remove a feed.\n            // Because the DataGrid\'s dataProvider property is\n            // bound to the ArrayCollection, Flex updates the\n            // DataGrid when you call this method. You do not need\n            // to update it manually.\n            if (myFeedsGrid.selectedIndex > -1) {\n                localFeeds.removeItemAt(myFeedsGrid.selectedIndex);\n            }\n        }\n\n        private function addSite():void {\n            var o:Object = {name:ti3.text, date:new Date()};\n            lsosites.addObject(o);\n            localSites = lsosites.getObjects();\n            ti3.text = \'\';\n        }\n\n        private function removeSite():void {\n            if (mySitesGrid.selectedIndex > -1) {\n                localSites.removeItemAt(mySitesGrid.selectedIndex);\n            }\n        }\n\n    ]]>\n    </mx:Script>\n\n    <mx:Label text="Blog aggregator" fontSize="28"/>\n\n    <mx:Panel title="Blogs">\n        <mx:Form id="blogForm">\n            <mx:HBox>\n                <mx:FormItem label="Name:">\n                    <mx:TextInput id="ti1" width="100"/>\n                </mx:FormItem>\n                <mx:FormItem label="Location:">\n                    <mx:TextInput id="ti2" width="300"/>\n                </mx:FormItem>\n                <mx:Button id="b1" label="Add Feed" click="addFeed()"/>\n            </mx:HBox>\n\n            <mx:FormItem label="Existing Feeds:">\n                <mx:DataGrid\n                    id="myFeedsGrid"\n                    dataProvider="{localFeeds}"\n                    width="400"\n                />\n            </mx:FormItem>\n            <mx:Button id="b2" label="Remove Feed" click="removeFeed()"/>\n        </mx:Form>\n    </mx:Panel>\n\n    <mx:Panel title="Sites">\n        <mx:Form id="siteForm">\n            <mx:HBox>\n                <mx:FormItem label="Site:">\n                    <mx:TextInput id="ti3" width="400"/>\n                </mx:FormItem>\n                <mx:Button id="b3" label="Add Site" click="addSite()"/>\n            </mx:HBox>\n\n            <mx:FormItem label="Existing Sites:">\n                <mx:DataGrid\n                    id="mySitesGrid"\n                    dataProvider="{localSites}"\n                    width="400"\n                />\n            </mx:FormItem>\n            <mx:Button id="b4" label="Remove Site" click="removeSite()"/>\n        </mx:Form>\n    </mx:Panel>\n\n</mx:Application>\n')),(0,o.kt)("h4",{id:"storing-typed-objects-in-shared-objects"},"Storing typed objects in shared objects"),(0,o.kt)("p",null,"You can store typed ActionScript instances in shared objects. You do this by\ncalling the ",(0,o.kt)("inlineCode",{parentName:"p"},"flash.net.registerClassAlias()")," method to register the class. If\nyou create an instance of your class and store it in the data member of your\nshared object and later read the object out, you will get a typed instance. By\ndefault, the SharedObject ",(0,o.kt)("inlineCode",{parentName:"p"},"objectEncoding")," property supports AMF3 encoding, and\nunpacks your stored instance from the SharedObject object; the stored instance\nretains the same type you specified when you called the ",(0,o.kt)("inlineCode",{parentName:"p"},"registerClassAlias()"),"\nmethod."),(0,o.kt)("h3",{id:"ios-only-prevent-cloud-backup-of-local-shared-objects"},"(iOS only) Prevent cloud backup of local shared objects"),(0,o.kt)("p",null,"You can set the ",(0,o.kt)("inlineCode",{parentName:"p"},"SharedObject.preventBackup")," property to control whether local\nshared objects will be backed up on the iOS cloud backup service. This is\nrequired by Apple for content that can be regenerated or downloaded again, but\nthat is required for proper functioning of your application during offline use."),(0,o.kt)("h3",{id:"creating-multiple-shared-objects"},"Creating multiple shared objects"),(0,o.kt)("p",null,"You can create multiple shared objects for the same Flex application. To do\nthis, you assign each of them a different instance name, as the following\nexample shows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'public var mySO:SharedObject = SharedObject.getLocal("preferences");\npublic var mySO2:SharedObject = SharedObject.getLocal("history");\n')),(0,o.kt)("p",null,"This creates a preferences.sol file and a history.sol file in the Flex\napplication's local directory."),(0,o.kt)("h2",{id:"creating-a-secure-sharedobject"},"Creating a secure SharedObject"),(0,o.kt)("p",null,"When you create either a local or remote SharedObject using ",(0,o.kt)("inlineCode",{parentName:"p"},"getLocal()")," or\n",(0,o.kt)("inlineCode",{parentName:"p"},"getRemote()"),", there is an optional parameter named ",(0,o.kt)("inlineCode",{parentName:"p"},"secure")," that determines\nwhether access to this shared object is restricted to SWF files that are\ndelivered over an HTTPS connection. If this parameter is set to ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," and your\nSWF file is delivered over HTTPS, Flash Player creates a new secure shared\nobject or gets a reference to an existing secure shared object. This secure\nshared object can be read from or written to only by SWF files delivered over\nHTTPS that call ",(0,o.kt)("inlineCode",{parentName:"p"},"SharedObject.getLocal()")," with the secure parameter set to\n",(0,o.kt)("inlineCode",{parentName:"p"},"true"),". If this parameter is set to ",(0,o.kt)("inlineCode",{parentName:"p"},"false")," and your SWF file is delivered over\nHTTPS, Flash Player creates a new shared object or gets a reference to an\nexisting shared object."),(0,o.kt)("p",null,"This shared object can be read from or written to by SWF files delivered over\nnon-HTTPS connections. If your SWF file is delivered over a non-HTTPS connection\nand you try to set this parameter to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", the creation of a new shared object\n(or the access of a previously created secure shared object) fails, an error is\nthrown, and the shared object is set to ",(0,o.kt)("inlineCode",{parentName:"p"},"null"),". If you attempt to run the\nfollowing snippet from a non-HTTPS connection, the ",(0,o.kt)("inlineCode",{parentName:"p"},"SharedObject.getLocal()"),"\nmethod will throw an error:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'try\n{\n    var so:SharedObject = SharedObject.getLocal("contactManager", null, true);\n}\ncatch (error:Error)\n{\n    trace("Unable to create SharedObject.");\n}\n')),(0,o.kt)("p",null,"Regardless of the value of this parameter, the created shared objects count\ntoward the total amount of disk space allowed for a domain."),(0,o.kt)("h2",{id:"displaying-contents-of-a-shared-object"},"Displaying contents of a shared object"),(0,o.kt)("p",null,"Values are stored in shared objects within the ",(0,o.kt)("inlineCode",{parentName:"p"},"data")," property. You can loop\nover each value within a shared object instance by using a ",(0,o.kt)("inlineCode",{parentName:"p"},"for..in")," loop, as\nthe following example shows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'var so:SharedObject = SharedObject.getLocal("test");\nso.data.hello = "world";\nso.data.foo = "bar";\nso.data.timezone = new Date().timezoneOffset;\nfor (var i:String in so.data)\n{\n    trace(i + ":\\t" + so.data[i]);\n}\n')),(0,o.kt)("h2",{id:"destroying-shared-objects"},"Destroying shared objects"),(0,o.kt)("p",null,"To destroy a\n",(0,o.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/net/SharedObject.html"},"SharedObject"),"\non the client, use the ",(0,o.kt)("inlineCode",{parentName:"p"},"SharedObject.clear()")," method. This does not destroy\ndirectories in the default path for the application's shared objects."),(0,o.kt)("p",null,"The following example deletes the SharedObject file from the client:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"public function destroySharedObject():void {\n    mySO.clear();\n}\n")),(0,o.kt)("h2",{id:"sharedobject-example"},"SharedObject example"),(0,o.kt)("p",null,"The following example shows that you can store simple objects, such as a Date\nobject, in a\n",(0,o.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/net/SharedObject.html"},"SharedObject"),"\nobject without having to manually serialize and deserialize those objects."),(0,o.kt)("p",null,"The following example begins by welcoming you as a first-time visitor. When you\nclick Log Out, the application stores the current date in a shared object. The\nnext time you launch this application or refresh the page, the application\nwelcomes you back with a reminder of the time you logged out."),(0,o.kt)("p",null,"To see the application in action, launch the application, click Log Out, and\nthen refresh the page. The application displays the date and time that you\nclicked the Log Out button on your previous visit. At any time, you can delete\nthe stored information by clicking the Delete LSO button."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'<?xml version="1.0"?>\n\x3c!-- lsos/WelcomeMessage.mxml --\x3e\n<mx:Application xmlns:mx="https://www.adobe.com/2006/mxml" initialize="initApp()">\n    <mx:Script>\n    <![CDATA[\n        public var mySO:SharedObject;\n        [Bindable]\n        public var welcomeMessage:String;\n\n        public function initApp():void {\n            mySO = SharedObject.getLocal("mydata");\n            if (mySO.data.visitDate==null) {\n                welcomeMessage = "Hello first-timer!"\n            } else {\n                welcomeMessage = "Welcome back. You last visited on " +\n                getVisitDate();\n            }\n        }\n\n        private function getVisitDate():Date {\n            return mySO.data.visitDate;\n        }\n\n        private function storeDate():void {\n            mySO.data.visitDate = new Date();\n            mySO.flush();\n        }\n\n        private function deleteLSO():void {\n            // Deletes the SharedObject from the client machine.\n            // Next time they log in, they will be a \'first-timer\'.\n            mySO.clear();\n        }\n\n    ]]>\n    </mx:Script>\n    <mx:Label id="label1" text="{welcomeMessage}"/>\n    <mx:Button label="Log Out" click="storeDate()"/>\n    <mx:Button label="Delete LSO" click="deleteLSO()"/>\n</mx:Application>\n')))}p.isMDXComponent=!0}}]);