"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[39388],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>w});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=a.createContext({}),s=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(d.Provider,{value:t},e.children)},c="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,d=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),c=s(n),m=o,w=c["".concat(d,".").concat(m)]||c[m]||h[m]||i;return n?a.createElement(w,l(l({ref:t},p),{},{components:n})):a.createElement(w,l({ref:t},p))}));function w(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,l=new Array(i);l[0]=m;var r={};for(var d in t)hasOwnProperty.call(t,d)&&(r[d]=t[d]);r.originalType=e,r[c]="string"==typeof e?e:o,l[1]=r;for(var s=2;s<i;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},38177:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>s});var a=n(87462),o=(n(67294),n(3905));const i={},l="Defining browser-like user interfaces for HTML content",r={unversionedId:"development/html-content-in-air/scripting-the-air-html-container/defining-browser-like-user-interfaces-for-html-content",id:"development/html-content-in-air/scripting-the-air-html-container/defining-browser-like-user-interfaces-for-html-content",title:"Defining browser-like user interfaces for HTML content",description:"JavaScript provides several APIs for controlling the window displaying the HTML",source:"@site/docs/development/html-content-in-air/scripting-the-air-html-container/defining-browser-like-user-interfaces-for-html-content.md",sourceDirName:"development/html-content-in-air/scripting-the-air-html-container",slug:"/development/html-content-in-air/scripting-the-air-html-container/defining-browser-like-user-interfaces-for-html-content",permalink:"/docs/development/html-content-in-air/scripting-the-air-html-container/defining-browser-like-user-interfaces-for-html-content",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/html-content-in-air/scripting-the-air-html-container/defining-browser-like-user-interfaces-for-html-content.md",tags:[],version:"current",frontMatter:{},sidebar:"mainSidebar",previous:{title:"Creating subclasses of the HTMLLoader class",permalink:"/docs/development/html-content-in-air/scripting-the-air-html-container/creating-subclasses-of-the-htmlloader-class"},next:{title:"Display properties of HTMLLoader objects",permalink:"/docs/development/html-content-in-air/scripting-the-air-html-container/display-properties-of-htmlloader-objects"}},d={},s=[{value:"About extending the HTMLHost class",id:"about-extending-the-htmlhost-class",level:2},{value:"Example: Extending the HTMLHost class",id:"example-extending-the-htmlhost-class",level:2},{value:"Flex example:",id:"flex-example",level:4},{value:"Flash Professional example:",id:"flash-professional-example",level:4},{value:"Handling changes to the window.location property",id:"handling-changes-to-the-windowlocation-property",level:2},{value:"Handling JavaScript calls to window.moveBy(), window.moveTo(), window.resizeTo(), window.resizeBy()",id:"handling-javascript-calls-to-windowmoveby-windowmoveto-windowresizeto-windowresizeby",level:2},{value:"Handling JavaScript calls to window.open()",id:"handling-javascript-calls-to-windowopen",level:2},{value:"Handling JavaScript calls to window.close()",id:"handling-javascript-calls-to-windowclose",level:2},{value:"Handling changes of the window.status property",id:"handling-changes-of-the-windowstatus-property",level:2},{value:"Handling changes of the window.document.title property",id:"handling-changes-of-the-windowdocumenttitle-property",level:2},{value:"Handling JavaScript calls to window.blur() and window.focus()",id:"handling-javascript-calls-to-windowblur-and-windowfocus",level:2},{value:"Creating windows with scrolling HTML content",id:"creating-windows-with-scrolling-html-content",level:2}],p={toc:s},c="wrapper";function h(e){let{components:t,...n}=e;return(0,o.kt)(c,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"defining-browser-like-user-interfaces-for-html-content"},"Defining browser-like user interfaces for HTML content"),(0,o.kt)("p",null,"JavaScript provides several APIs for controlling the window displaying the HTML\ncontent. In AIR, these APIs can be overridden by implementing a custom\n",(0,o.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/html/HTMLHost.html"},"HTMLHost"),"\nclass."),(0,o.kt)("h2",{id:"about-extending-the-htmlhost-class"},"About extending the HTMLHost class"),(0,o.kt)("p",null,"If, for example, your application presents multiple HTMLLoader objects in a\ntabbed interface, you may want title changes made by the loaded HTML pages to\nchange the label of the tab, not the title of the main window. Similarly, your\ncode could respond to a ",(0,o.kt)("inlineCode",{parentName:"p"},"window.moveTo()")," call by repositioning the HTMLLoader\nobject in its parent display object container, by moving the window that\ncontains the HTMLLoader object, by doing nothing at all, or by doing something\nelse entirely."),(0,o.kt)("p",null,"The AIR HTMLHost class controls the following JavaScript properties and methods:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"window.status"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"window.document.title"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"window.location"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"window.blur()"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"window.close()"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"window.focus()"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"window.moveBy()"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"window.moveTo()"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"window.open()"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"window.resizeBy()"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"window.resizeTo()")))),(0,o.kt)("p",null,"When you create an HTMLLoader object using ",(0,o.kt)("inlineCode",{parentName:"p"},"new HTMLLoader()"),", the listed\nJavaScript properties or methods are not enabled. The HTMLHost class provides a\ndefault, browser-like implementation of these JavaScript APIs. You can also\nextend the HTMLHost class to customize the behavior. To create an HTMLHost\nobject supporting the default behavior, set the ",(0,o.kt)("inlineCode",{parentName:"p"},"defaultBehaviors")," parameter to\ntrue in the HTMLHost constructor:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"var defaultHost:HTMLHost = new HTMLHost(true);\n")),(0,o.kt)("p",null,"When you create an HTML window in AIR with the HTMLLoader class\n",(0,o.kt)("inlineCode",{parentName:"p"},"createRootWindow()")," method, an HTMLHost instance supporting the default\nbehaviors is assigned automatically. You can change the host object behavior by\nassigning a different HTMLHost implementation to the ",(0,o.kt)("inlineCode",{parentName:"p"},"htmlHost")," property of the\nHTMLLoader, or you can assign ",(0,o.kt)("inlineCode",{parentName:"p"},"null")," to disable the features entirely."),(0,o.kt)("p",null,"Note: AIR assigns a default HTMLHost object to the initial window created for an\nHTML-based AIR application and any windows created by the default implementation\nof the JavaScript ",(0,o.kt)("inlineCode",{parentName:"p"},"window.open()")," method."),(0,o.kt)("h2",{id:"example-extending-the-htmlhost-class"},"Example: Extending the HTMLHost class"),(0,o.kt)("p",null,"The following example shows how to customize the way that an HTMLLoader object\naffects the user interface, by extending the HTMLHost class:"),(0,o.kt)("h4",{id:"flex-example"},"Flex example:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Create a class that extends the HTMLHost class (a subclass).")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Override methods of the new class to handle changes in the user\ninterface-related settings. For example, the following class, CustomHost,\ndefines behaviors for calls to ",(0,o.kt)("inlineCode",{parentName:"p"},"window.open()")," and changes to\n",(0,o.kt)("inlineCode",{parentName:"p"},"window.document.title"),". Calls to ",(0,o.kt)("inlineCode",{parentName:"p"},"window.open()")," open the HTML page in a\nnew window, and changes to ",(0,o.kt)("inlineCode",{parentName:"p"},"window.document.title")," (including the setting of\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"<title>")," element of an HTML page) set the title of that window."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"package\n{\n    import flash.html.*;\n    import flash.display.StageScaleMode;\n    import flash.display.NativeWindow;\n    import flash.display.NativeWindowInitOptions;\n\n    public class CustomHost extends HTMLHost\n    {\n        override public function\n            createWindow(windowCreateOptions:HTMLWindowCreateOptions):HTMLLoader\n        {\n            var initOptions:NativeWindowInitOptions = new NativeWindowInitOptions();\n            var bounds:Rectangle = new Rectangle(windowCreateOptions.x,\n                                            windowCreateOptions.y,\n                                            windowCreateOptions.width,\n                                            windowCreateOptions.height);\n            var htmlControl:HTMLLoader = HTMLLoader.createRootWindow(true, initOptions,\n                                        windowCreateOptions.scrollBarsVisible, bounds);\n            htmlControl.htmlHost = new HTMLHostImplementation();\n            if(windowCreateOptions.fullscreen){\n                htmlControl.stage.displayState =\n                    StageDisplayState.FULL_SCREEN_INTERACTIVE;\n            }\n            return htmlControl;\n        }\n        override public function updateTitle(title:String):void\n        {\n            htmlLoader.stage.nativeWindow.title = title;\n        }\n    }\n}\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In the code that contains the HTMLLoader (not the code of the new subclass\nof HTMLHost), create an object of the new class. Assign the new object to\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"htmlHost")," property of the HTMLLoader. The following Flex code uses the\nCustomHost class defined in the previous step:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},'<?xml version="1.0" encoding="utf-8"?>\n<mx:WindowedApplication\n    xmlns:mx="https://www.adobe.com/2006/mxml"\n    layout="vertical"\n    applicationComplete="init()">\n    <mx:Script>\n    <![CDATA[\n        import flash.html.HTMLLoader;\n        import CustomHost;\n        private function init():void\n        {\n            var html:HTMLLoader = new HTMLLoader();\n            html.width = container.width;\n            html.height = container.height;\n            var urlReq:URLRequest = new URLRequest("Test.html");\n            html.htmlHost = new CustomHost();\n            html.load(urlReq);\n            container.addChild(html);\n        }\n    ]]>\n    </mx:Script>\n    <mx:UIComponent id="container" width="100%" height="100%"/>\n</mx:WindowedApplication>\n')))),(0,o.kt)("p",null,"To test the code described here, include an HTML file with the following content\nin the application directory:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'<html>\n<head>\n    <title>Test</title>\n</head>\n<script>\n    function openWindow()\n    {\n        window.runtime.trace("in");\n        document.title = "foo"\n        window.open(\'Test.html\');\n        window.runtime.trace("out");\n    }\n<\/script>\n<body>\n    <a href="#" onclick="openWindow()">window.open(\'Test.html\')</a>\n</body>\n</html>\n')),(0,o.kt)("h4",{id:"flash-professional-example"},"Flash Professional example:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Create a Flash file for AIR. Set its document class to CustomHostExample and\nthen save the file as CustomHostExample.fla.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Create an ActionScript file called CustomHost.as containing a class that\nextends the HTMLHost class (a subclass). This class overrides certain\nmethods of the new class to handle changes in the user interface-related\nsettings. For example, the following class, CustomHost, defines behaviors\nfor calls to ",(0,o.kt)("inlineCode",{parentName:"p"},"window.open()")," and changes to ",(0,o.kt)("inlineCode",{parentName:"p"},"window.document.title"),". Calls\nto the ",(0,o.kt)("inlineCode",{parentName:"p"},"window.open()")," method open the HTML page in a new window, and\nchanges to the ",(0,o.kt)("inlineCode",{parentName:"p"},"window.document.title")," property (including the setting of\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"<title>")," element of an HTML page) set the title of that window."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},'package\n{\n    import flash.display.StageScaleMode;\n    import flash.display.NativeWindow;\n    import flash.display.NativeWindowInitOptions;\n    import flash.events.Event;\n    import flash.events.NativeWindowBoundsEvent;\n    import flash.geom.Rectangle;\n    import flash.html.HTMLLoader;\n    import flash.html.HTMLHost;\n    import flash.html.HTMLWindowCreateOptions;\n    import flash.text.TextField;\n\n    public class CustomHost extends HTMLHost\n    {\n        public var statusField:TextField;\n\n        public function CustomHost(defaultBehaviors:Boolean=true)\n        {\n            super(defaultBehaviors);\n        }\n        override public function windowClose():void\n        {\n            htmlLoader.stage.nativeWindow.close();\n        }\n        override public function createWindow(\n                                windowCreateOptions:HTMLWindowCreateOptions ):HTMLLoader\n        {\n            var initOptions:NativeWindowInitOptions = new NativeWindowInitOptions();\n            var bounds:Rectangle = new Rectangle(windowCreateOptions.x,\n                                            windowCreateOptions.y,\n                                            windowCreateOptions.width,\n                                            windowCreateOptions.height);\n            var htmlControl:HTMLLoader = HTMLLoader.createRootWindow(true, initOptions,\n                                        windowCreateOptions.scrollBarsVisible, bounds);\n            htmlControl.htmlHost = new HTMLHostImplementation();\n            if(windowCreateOptions.fullscreen){\n                htmlControl.stage.displayState =\n                    StageDisplayState.FULL_SCREEN_INTERACTIVE;\n            }\n            return htmlControl;\n        }\n        override public function updateLocation(locationURL:String):void\n        {\n            trace(locationURL);\n        }\n        override public function set windowRect(value:Rectangle):void\n        {\n            htmlLoader.stage.nativeWindow.bounds = value;\n        }\n        override public function updateStatus(status:String):void\n        {\n            statusField.text = status;\n            trace(status);\n        }\n        override public function updateTitle(title:String):void\n        {\n            htmlLoader.stage.nativeWindow.title = title + "- Example Application";\n        }\n        override public function windowBlur():void\n        {\n            htmlLoader.alpha = 0.5;\n        }\n        override public function windowFocus():void\n        {\n            htmlLoader.alpha = 1;\n        }\n    }\n}\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Create another ActionScript file named CustomHostExample.as to contain the\ndocument class for the application. This class creates an HTMLLoader object\nand sets its host property to an instance of the CustomHost class defined in\nthe previous step:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},'package\n{\n    import flash.display.Sprite;\n    import flash.html.HTMLLoader;\n    import flash.net.URLRequest;\n    import flash.text.TextField;\n\n    public class CustomHostExample extends Sprite\n    {\n        function CustomHostExample():void\n        {\n            var html:HTMLLoader = new HTMLLoader();\n            html.width = 550;\n            html.height = 380;\n            var host:CustomHost = new CustomHost();\n            html.htmlHost = host;\n\n            var urlReq:URLRequest = new URLRequest("Test.html");\n            html.load(urlReq);\n\n            addChild(html);\n\n            var statusTxt:TextField = new TextField();\n            statusTxt.y = 380;\n            statusTxt.height = 20;\n            statusTxt.width = 550;\n            statusTxt.background = true;\n            statusTxt.backgroundColor = 0xEEEEEEEE;\n            addChild(statusTxt);\n\n            host.statusField = statusTxt;\n        }\n    }\n}\n')),(0,o.kt)("p",{parentName:"li"},"To test the code described here, include an HTML file with the following\ncontent in the application directory:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},'<html>\n<head>\n    <title>Test</title>\n    <script>\n        function openWindow()\n        {\n            document.title = "Test"\n            window.open(\'Test.html\');\n        }\n    <\/script>\n</head>\n<body bgColor="#EEEEEE">\n    <a href="#" onclick="window.open(\'Test.html\')">window.open(\'Test.html\')</a>\n    <br/><a href="#" onclick="window.document.location=\'http://www.adobe.com\'">\n    window.document.location = \'http://www.adobe.com\'</a>\n    <br/><a href="#" onclick="window.moveBy(6, 12)">moveBy(6, 12)</a>\n    <br/><a href="#" onclick="window.close()">window.close()</a>\n    <br/><a href="#" onclick="window.blur()">window.blur()</a>\n    <br/><a href="#" onclick="window.focus()">window.focus()</a>\n    <br/><a href="#" onclick="window.status = new Date().toString()">window.status=new Date().toString()</a>\n</body>\n</html>\n')))),(0,o.kt)("h2",{id:"handling-changes-to-the-windowlocation-property"},"Handling changes to the window.location property"),(0,o.kt)("p",null,"Override the ",(0,o.kt)("inlineCode",{parentName:"p"},"locationChange()")," method to handle changes of the URL of the HTML\npage. The ",(0,o.kt)("inlineCode",{parentName:"p"},"locationChange()")," method is called when JavaScript in a page changes\nthe value of ",(0,o.kt)("inlineCode",{parentName:"p"},"window.location"),". The following example simply loads the requested\nURL:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"override public function updateLocation(locationURL:String):void\n{\n    htmlLoader.load(new URLRequest(locationURL));\n}\n")),(0,o.kt)("p",null,"Note: You can use the htmlLoader property of the HTMLHost object to reference\nthe current HTMLLoader object."),(0,o.kt)("h2",{id:"handling-javascript-calls-to-windowmoveby-windowmoveto-windowresizeto-windowresizeby"},"Handling JavaScript calls to window.moveBy(), window.moveTo(), window.resizeTo(), window.resizeBy()"),(0,o.kt)("p",null,"Override the ",(0,o.kt)("inlineCode",{parentName:"p"},"set windowRect()")," method to handle changes in the bounds of the\nHTML content. The ",(0,o.kt)("inlineCode",{parentName:"p"},"set windowRect()")," method is called when JavaScript in a page\ncalls ",(0,o.kt)("inlineCode",{parentName:"p"},"window.moveBy()"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"window.moveTo()"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"window.resizeTo()"),", or\n",(0,o.kt)("inlineCode",{parentName:"p"},"window.resizeBy()"),". The following example simply updates the bounds of the\ndesktop window:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"override public function set windowRect(value:Rectangle):void\n{\n    htmlLoader.stage.nativeWindow.bounds = value;\n}\n")),(0,o.kt)("h2",{id:"handling-javascript-calls-to-windowopen"},"Handling JavaScript calls to window.open()"),(0,o.kt)("p",null,"Override the ",(0,o.kt)("inlineCode",{parentName:"p"},"createWindow()")," method to handle JavaScript calls to\n",(0,o.kt)("inlineCode",{parentName:"p"},"window.open()"),". Implementations of the ",(0,o.kt)("inlineCode",{parentName:"p"},"createWindow()")," method are responsible\nfor creating and returning a new HTMLLoader object. Typically, you would display\nthe HTMLLoader in a new window, but creating a window is not required."),(0,o.kt)("p",null,"The following example illustrates how to implement the ",(0,o.kt)("inlineCode",{parentName:"p"},"createWindow()")," function\nusing the ",(0,o.kt)("inlineCode",{parentName:"p"},"HTMLLoader.createRootWindow()")," to create both the window and the\nHTMLLoader object. You can also create a NativeWindow object separately and add\nthe HTMLLoader to the window stage."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"override public function createWindow(windowCreateOptions:HTMLWindowCreateOptions):HTMLLoader{\n    var initOptions:NativeWindowInitOptions = new NativeWindowInitOptions();\n    var bounds:Rectangle = new Rectangle(windowCreateOptions.x, windowCreateOptions.y,\n                                windowCreateOptions.width, windowCreateOptions.height);\n    var htmlControl:HTMLLoader = HTMLLoader.createRootWindow(true, initOptions,\n                                    windowCreateOptions.scrollBarsVisible, bounds);\n    htmlControl.htmlHost = new HTMLHostImplementation();\n    if(windowCreateOptions.fullscreen){\n        htmlControl.stage.displayState = StageDisplayState.FULL_SCREEN_INTERACTIVE;\n    }\n    return htmlControl;\n}\n")),(0,o.kt)("p",null,"Note: This example assigns the custom HTMLHost implementation to any new windows\ncreated with ",(0,o.kt)("inlineCode",{parentName:"p"},"window.open()"),". You can also use a different implementation or set\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"htmlHost")," property to null for new windows, if desired."),(0,o.kt)("p",null,"The object passed as a parameter to the ",(0,o.kt)("inlineCode",{parentName:"p"},"createWindow()")," method is an\n",(0,o.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/html/HTMLWindowCreateOptions.html"},"HTMLWindowCreateOptions"),"\nobject. The HTMLWindowCreateOptions class includes properties that report the\nvalues set in the ",(0,o.kt)("inlineCode",{parentName:"p"},"features")," parameter string in the call to ",(0,o.kt)("inlineCode",{parentName:"p"},"window.open()"),":"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"HTMLWindowCreateOptions property"),(0,o.kt)("th",{parentName:"tr",align:null},"Corresponding setting in the features string in the JavaScript call to window.open()"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"fullscreen")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"fullscreen"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"height")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"height"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"locationBarVisible")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"location"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"menuBarVisible")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"menubar"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"resizeable")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"resizable"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"scrollBarsVisible")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"scrollbars"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"statusBarVisible")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"status"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"toolBarVisible")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"toolbar"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"width")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"width"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"x")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"left")," or ",(0,o.kt)("inlineCode",{parentName:"td"},"screenX"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"y")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"top")," or ",(0,o.kt)("inlineCode",{parentName:"td"},"screenY"))))),(0,o.kt)("p",null,"The HTMLLoader class does not implement all the features that can be specified\nin the feature string. Your application must provide scroll bars, location bars,\nmenu bars, status bars, and toolbars when appropriate."),(0,o.kt)("p",null,"The other arguments to the JavaScript ",(0,o.kt)("inlineCode",{parentName:"p"},"window.open()")," method are handled by the\nsystem. A ",(0,o.kt)("inlineCode",{parentName:"p"},"createWindow()")," implementation should not load content in the\nHTMLLoader object, or set the window title."),(0,o.kt)("h2",{id:"handling-javascript-calls-to-windowclose"},"Handling JavaScript calls to window.close()"),(0,o.kt)("p",null,"Override the ",(0,o.kt)("inlineCode",{parentName:"p"},"windowClose()")," to handle JavaScript calls to ",(0,o.kt)("inlineCode",{parentName:"p"},"window.close()"),"\nmethod. The following example closes the desktop window when the\n",(0,o.kt)("inlineCode",{parentName:"p"},"window.close()")," method is called:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"override public function windowClose():void\n{\n    htmlLoader.stage.nativeWindow.close();\n}\n")),(0,o.kt)("p",null,"JavaScript calls to ",(0,o.kt)("inlineCode",{parentName:"p"},"window.close()")," do not have to close the containing window.\nYou could, for example, remove the HTMLLoader from the display list, leaving the\nwindow (which may have other content) open, as in the following code:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"override public function windowClose():void\n{\n    htmlLoader.parent.removeChild(htmlLoader);\n}\n")),(0,o.kt)("h2",{id:"handling-changes-of-the-windowstatus-property"},"Handling changes of the window.status property"),(0,o.kt)("p",null,"Override the ",(0,o.kt)("inlineCode",{parentName:"p"},"updateStatus()")," method to handle JavaScript changes to the value\nof ",(0,o.kt)("inlineCode",{parentName:"p"},"window.status"),". The following example traces the status value:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"override public function updateStatus(status:String):void\n{\n    trace(status);\n}\n")),(0,o.kt)("p",null,"The requested status is passed as a string to the ",(0,o.kt)("inlineCode",{parentName:"p"},"updateStatus()")," method."),(0,o.kt)("p",null,"The HTMLLoader object does not provide a status bar."),(0,o.kt)("h2",{id:"handling-changes-of-the-windowdocumenttitle-property"},"Handling changes of the window.document.title property"),(0,o.kt)("p",null,"override the ",(0,o.kt)("inlineCode",{parentName:"p"},"updateTitle()")," method to handle JavaScript changes to the value of\n",(0,o.kt)("inlineCode",{parentName:"p"},"window.document.title"),'. The following example changes the window title and\nappends the string, "Sample," to the title:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'override public function updateTitle(title:String):void\n{\n    htmlLoader.stage.nativeWindow.title = title + " - Sample";\n}\n')),(0,o.kt)("p",null,"When ",(0,o.kt)("inlineCode",{parentName:"p"},"document.title")," is set on an HTML page, the requested title is passed as a\nstring to the ",(0,o.kt)("inlineCode",{parentName:"p"},"updateTitle()")," method."),(0,o.kt)("p",null,"Changes to ",(0,o.kt)("inlineCode",{parentName:"p"},"document.title")," do not have to change the title of the window\ncontaining the HTMLLoader object. You could, for example, change another\ninterface element, such as a text field."),(0,o.kt)("h2",{id:"handling-javascript-calls-to-windowblur-and-windowfocus"},"Handling JavaScript calls to window.blur() and window.focus()"),(0,o.kt)("p",null,"Override the ",(0,o.kt)("inlineCode",{parentName:"p"},"windowBlur()")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"windowFocus()")," methods to handle JavaScript\ncalls to ",(0,o.kt)("inlineCode",{parentName:"p"},"window.blur()")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"window.focus()"),", as shown in the following\nexample:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"override public function windowBlur():void\n{\n    htmlLoader.alpha = 0.5;\n}\noverride public function windowFocus():void\n{\n    htmlLoader.alpha = 1.0;\n    NativeApplication.nativeApplication.activate(htmlLoader.stage.nativeWindow);\n}\n")),(0,o.kt)("p",null,"Note: AIR does not provide an API for deactivating a window or application."),(0,o.kt)("h2",{id:"creating-windows-with-scrolling-html-content"},"Creating windows with scrolling HTML content"),(0,o.kt)("p",null,"The HTMLLoader class includes a static method, ",(0,o.kt)("inlineCode",{parentName:"p"},"HTMLLoader.createRootWindow()"),",\nwhich lets you open a new window (represented by a NativeWindow object) that\ncontains an HTMLLoader object and define some user interface settings for that\nwindow. The method takes four parameters, which let you define the user\ninterface:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"visible")),(0,o.kt)("td",{parentName:"tr",align:null},"A Boolean value that specifies whether the window is initially visible ( ",(0,o.kt)("inlineCode",{parentName:"td"},"true"),") or not ( ",(0,o.kt)("inlineCode",{parentName:"td"},"false"),").")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"windowInitOptions")),(0,o.kt)("td",{parentName:"tr",align:null},"A ",(0,o.kt)("a",{parentName:"td",href:"https://airsdk.dev/reference/actionscript/3.0/flash/display/NativeWindowInitOptions.html"},"NativeWindowInitOptions")," object. The NativeWindowInitOptions class defines initialization options for a NativeWindow object, including the following: whether the window is minimizable, maximizable, or resizable, whether the window has system chrome or custom chrome, whether the window is transparent or not (for windows that do not use system chrome), and the type of window.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"scrollBarsVisible")),(0,o.kt)("td",{parentName:"tr",align:null},"Whether there are scroll bars ( ",(0,o.kt)("inlineCode",{parentName:"td"},"true"),") or not ( ",(0,o.kt)("inlineCode",{parentName:"td"},"false"),").")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"bounds")),(0,o.kt)("td",{parentName:"tr",align:null},"A ",(0,o.kt)("a",{parentName:"td",href:"https://airsdk.dev/reference/actionscript/3.0/flash/geom/Rectangle.html"},"Rectangle")," object defining the position and size of the new window.")))),(0,o.kt)("p",null,"For example, the following code uses the ",(0,o.kt)("inlineCode",{parentName:"p"},"HTMLLoader.createRootWindow()")," method\nto create a window with HTMLLoader content that uses scroll bars:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'var initOptions:NativeWindowInitOptions = new NativeWindowInitOptions();\nvar bounds:Rectangle = new Rectangle(10, 10, 600, 400);\nvar html2:HTMLLoader = HTMLLoader.createRootWindow(true, initOptions, true, bounds);\nvar urlReq2:URLRequest = new URLRequest("http://www.example.com");\nhtml2.load(urlReq2);\nhtml2.stage.nativeWindow.activate();\n')),(0,o.kt)("p",null,"Note: Windows created by calling ",(0,o.kt)("inlineCode",{parentName:"p"},"createRootWindow()")," directly in JavaScript\nremain independent from the opening HTML window. The JavaScript Window ",(0,o.kt)("inlineCode",{parentName:"p"},"opener"),"\nand ",(0,o.kt)("inlineCode",{parentName:"p"},"parent")," properties, for example, are ",(0,o.kt)("inlineCode",{parentName:"p"},"null"),". However, if you call\n",(0,o.kt)("inlineCode",{parentName:"p"},"createRootWindow()")," indirectly by overriding the HTMLHost ",(0,o.kt)("inlineCode",{parentName:"p"},"createWindow()"),"\nmethod to call ",(0,o.kt)("inlineCode",{parentName:"p"},"createRootWindow()"),", then ",(0,o.kt)("inlineCode",{parentName:"p"},"opener")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"parent")," do reference the\nopening HTML window."))}h.isMDXComponent=!0}}]);