"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[5267],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>m});var i=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=i.createContext({}),d=function(e){var n=i.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=d(e.components);return i.createElement(l.Provider,{value:n},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},h=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=d(t),h=a,m=c["".concat(l,".").concat(h)]||c[h]||u[h]||o;return t?i.createElement(m,r(r({ref:n},p),{},{components:t})):i.createElement(m,r({ref:n},p))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,r=new Array(o);r[0]=h;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[c]="string"==typeof e?e:a,r[1]=s;for(var d=2;d<o;d++)r[d]=t[d];return i.createElement.apply(null,r)}return i.createElement.apply(null,t)}h.displayName="MDXCreateElement"},6988:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var i=t(87462),a=(t(67294),t(3905));const o={sidebar_position:2},r="Using the IME class",s={unversionedId:"development/user-interaction/keyboard-input/using-the-ime-class",id:"development/user-interaction/keyboard-input/using-the-ime-class",title:"Using the IME class",description:"The IME class lets you manipulate the operating system's IME within Flash Player",source:"@site/docs/development/user-interaction/keyboard-input/using-the-ime-class.md",sourceDirName:"development/user-interaction/keyboard-input",slug:"/development/user-interaction/keyboard-input/using-the-ime-class",permalink:"/docs/development/user-interaction/keyboard-input/using-the-ime-class",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/user-interaction/keyboard-input/using-the-ime-class.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"mainSidebar",previous:{title:"Capturing keyboard input",permalink:"/docs/development/user-interaction/keyboard-input/capturing-keyboard-input"},next:{title:"Virtual keyboards",permalink:"/docs/development/user-interaction/keyboard-input/virtual-keyboards/"}},l={},d=[{value:"Checking if an IME is installed and enabled",id:"checking-if-an-ime-is-installed-and-enabled",level:2},{value:"Determining which IME conversion mode is currently enabled",id:"determining-which-ime-conversion-mode-is-currently-enabled",level:2},{value:"Setting the IME conversion mode",id:"setting-the-ime-conversion-mode",level:2},{value:"Disabling the IME for certain text fields",id:"disabling-the-ime-for-certain-text-fields",level:2},{value:"Listening for IME composition events",id:"listening-for-ime-composition-events",level:2}],p={toc:d},c="wrapper";function u(e){let{components:n,...t}=e;return(0,a.kt)(c,(0,i.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"using-the-ime-class"},"Using the IME class"),(0,a.kt)("p",null,"The IME class lets you manipulate the operating system's IME within Flash Player\nor Adobe AIR."),(0,a.kt)("p",null,"Using ActionScript, you can determine the following:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"If an IME is installed on the user's computer ( ",(0,a.kt)("inlineCode",{parentName:"p"},"Capabilities.hasIME"),")")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"If the IME is enabled or disabled on the user's computer ( ",(0,a.kt)("inlineCode",{parentName:"p"},"IME.enabled"),")")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"The conversion mode the current IME is using ( ",(0,a.kt)("inlineCode",{parentName:"p"},"IME.conversionMode"),")"))),(0,a.kt)("p",null,"You can associate an input text field with a particular IME context. When you\nswitch between input fields, you can also switch the IME between Hiragana\n(Japanese), full-width numbers, half-width numbers, direct input, and so on."),(0,a.kt)("p",null,"An IME lets users type non-ASCII text characters in multibyte languages, such as\nChinese, Japanese, and Korean."),(0,a.kt)("p",null,"For more information on working with IMEs, see the documentation for the\noperating system for which you are developing the application. For additional\nresources, see the following web sites:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"http://www.msdn.microsoft.com/goglobal/"},"http://www.msdn.microsoft.com/goglobal/"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"http://developer.apple.com/library/mac/navigation/"},"http://developer.apple.com/library/mac/navigation/"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"http://www.java.sun.com/"},"http://www.java.sun.com/")))),(0,a.kt)("p",null,"Note: If an IME is not active on the user's computer, calls to IME methods or\nproperties, other than ",(0,a.kt)("inlineCode",{parentName:"p"},"Capabilities.hasIME"),", will fail. Once you manually\nactivate an IME, subsequent ActionScript calls to IME methods and properties\nwill work as expected. For example, if you are using a Japanese IME, you must\nactivate it before you can call any IME method or property."),(0,a.kt)("h2",{id:"checking-if-an-ime-is-installed-and-enabled"},"Checking if an IME is installed and enabled"),(0,a.kt)("p",null,"Before you call any of the IME methods or properties, you should always check to\nsee if the user's computer currently has an IME installed and enabled. The\nfollowing code illustrates how to check that the user has an IME both installed\nand active before you call any methods:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'if (Capabilities.hasIME)\n{\n    if (IME.enabled)\n    {\n        trace("IME is installed and enabled.");\n    }\n    else\n    {\n        trace("IME is installed but not enabled. Please enable your IME and try again.");\n    }\n}\nelse\n{\n    trace("IME is not installed. Please install an IME and try again.");\n}\n')),(0,a.kt)("p",null,"The previous code first checks to see if the user has an IME installed using the\n",(0,a.kt)("inlineCode",{parentName:"p"},"Capabilities.hasIME")," property. If this property is set to ",(0,a.kt)("inlineCode",{parentName:"p"},"true,")," the code then\nchecks whether the user's IME is currently enabled, using the ",(0,a.kt)("inlineCode",{parentName:"p"},"IME.enabled"),"\nproperty."),(0,a.kt)("h2",{id:"determining-which-ime-conversion-mode-is-currently-enabled"},"Determining which IME conversion mode is currently enabled"),(0,a.kt)("p",null,"When building multilingual applications, you may need to determine which\nconversion mode the user currently has active. The following code demonstrates\nhow to check whether the user has an IME installed, and if so, which IME\nconversion mode is currently active:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'if (Capabilities.hasIME)\n{\n    switch (IME.conversionMode)\n    {\n        case IMEConversionMode.ALPHANUMERIC_FULL:\n            tf.text = "Current conversion mode is alphanumeric (full-width).";\n            break;\n        case IMEConversionMode.ALPHANUMERIC_HALF:\n            tf.text = "Current conversion mode is alphanumeric (half-width).";\n            break;\n        case IMEConversionMode.CHINESE:\n            tf.text = "Current conversion mode is Chinese.";\n            break;\n        case IMEConversionMode.JAPANESE_HIRAGANA:\n            tf.text = "Current conversion mode is Japananese Hiragana.";\n            break;\n        case IMEConversionMode.JAPANESE_KATAKANA_FULL:\n            tf.text = "Current conversion mode is Japanese Katakana (full-width).";\n            break;\n        case IMEConversionMode.JAPANESE_KATAKANA_HALF:\n            tf.text = "Current conversion mode is Japanese Katakana (half-width).";\n            break;\n        case IMEConversionMode.KOREAN:\n            tf.text = "Current conversion mode is Korean.";\n            break;\n        default:\n            tf.text = "Current conversion mode is " + IME.conversionMode + ".";\n            break;\n    }\n}\nelse\n{\n    tf.text = "Please install an IME and try again.";\n}\n')),(0,a.kt)("p",null,"The previous code first checks to see whether the user has an IME installed.\nNext it checks which conversion mode the current IME is using by comparing the\n",(0,a.kt)("inlineCode",{parentName:"p"},"IME.conversionMode")," property against each of the constants in the\nIMEConversionMode class."),(0,a.kt)("h2",{id:"setting-the-ime-conversion-mode"},"Setting the IME conversion mode"),(0,a.kt)("p",null,"When you change the conversion mode of the user's IME, you need to make sure\nthat the code is wrapped in a ",(0,a.kt)("inlineCode",{parentName:"p"},"try..catch")," block, because setting a conversion\nmode using the ",(0,a.kt)("inlineCode",{parentName:"p"},"conversionMode")," property can throw an error if the IME is unable\nto set the conversion mode. The following code demonstrates how to use a\n",(0,a.kt)("inlineCode",{parentName:"p"},"try..catch")," block when setting the ",(0,a.kt)("inlineCode",{parentName:"p"},"IME.conversionMode")," property:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'var statusText:TextField = new TextField;\nstatusText.autoSize = TextFieldAutoSize.LEFT;\naddChild(statusText);\nif (Capabilities.hasIME)\n{\n    try\n    {\n        IME.enabled = true;\n        IME.conversionMode = IMEConversionMode.KOREAN;\n        statusText.text = "Conversion mode is " + IME.conversionMode + ".";\n    }\n    catch (error:Error)\n    {\n        statusText.text = "Unable to set conversion mode.\\n" + error.message;\n    }\n}\n')),(0,a.kt)("p",null,"The previous code first creates a text field, which is used to display a status\nmessage to the user. Next, if the IME is installed, the code enables the IME and\nsets the conversion mode to Korean. If the user's computer does not have a\nKorean IME installed, an error is thrown by Flash Player or AIR and is caught by\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"try..catch")," block. The ",(0,a.kt)("inlineCode",{parentName:"p"},"try..catch")," block displays the error message in the\npreviously created text field."),(0,a.kt)("h2",{id:"disabling-the-ime-for-certain-text-fields"},"Disabling the IME for certain text fields"),(0,a.kt)("p",null,"In some cases, you may want to disable the user's IME while they type\ncharacters. For example, if you had a text field that only accepts numeric\ninput, you may not want the IME to come up and slow down data entry."),(0,a.kt)("p",null,"The following example demonstrates how you can listen for the\n",(0,a.kt)("inlineCode",{parentName:"p"},"FocusEvent.FOCUS_IN")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"FocusEvent.FOCUS_OUT")," events and disable the user's\nIME accordingly:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'var phoneTxt:TextField = new TextField();\nvar nameTxt:TextField = new TextField();\n\nphoneTxt.type = TextFieldType.INPUT;\nphoneTxt.addEventListener(FocusEvent.FOCUS_IN, focusInHandler);\nphoneTxt.addEventListener(FocusEvent.FOCUS_OUT, focusOutHandler);\nphoneTxt.restrict = "0-9";\nphoneTxt.width = 100;\nphoneTxt.height = 18;\nphoneTxt.background = true;\nphoneTxt.border = true;\naddChild(phoneTxt);\n\nnameField.type = TextFieldType.INPUT;\nnameField.x = 120;\nnameField.width = 100;\nnameField.height = 18;\nnameField.background = true;\nnameField.border = true;\naddChild(nameField);\n\nfunction focusInHandler(event:FocusEvent):void\n{\n    if (Capabilities.hasIME)\n    {\n        IME.enabled = false;\n    }\n}\nfunction focusOutHandler(event:FocusEvent):void\n{\n    if (Capabilities.hasIME)\n    {\n        IME.enabled = true;\n    }\n}\n')),(0,a.kt)("p",null,"This example creates two input text fields, ",(0,a.kt)("inlineCode",{parentName:"p"},"phoneTxt")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"nameTxt"),", and then\nadds two event listeners to the ",(0,a.kt)("inlineCode",{parentName:"p"},"phoneTxt")," text field. When the user sets focus\nto the ",(0,a.kt)("inlineCode",{parentName:"p"},"phoneTxt")," text field, a ",(0,a.kt)("inlineCode",{parentName:"p"},"FocusEvent.FOCUS_IN")," event is dispatched and\nthe IME is disabled. When the ",(0,a.kt)("inlineCode",{parentName:"p"},"phoneTxt")," text field loses focus, the\n",(0,a.kt)("inlineCode",{parentName:"p"},"FocusEvent.FOCUS_OUT")," event is dispatched to re-enable the IME."),(0,a.kt)("h2",{id:"listening-for-ime-composition-events"},"Listening for IME composition events"),(0,a.kt)("p",null,"IME composition events are dispatched when a composition string is being set.\nFor example, if the user has their IME enabled and active and types a string in\nJapanese, the ",(0,a.kt)("inlineCode",{parentName:"p"},"IMEEvent.IME_COMPOSITION")," event would dispatch as soon as the\nuser selects the composition string. In order to listen for the\n",(0,a.kt)("inlineCode",{parentName:"p"},"IMEEvent.IME_COMPOSITION")," event, you need to add an event listener to the\nstatic ",(0,a.kt)("inlineCode",{parentName:"p"},"ime")," property in the System class (\n",(0,a.kt)("inlineCode",{parentName:"p"},"flash.system.System.ime.addEventListener(...)"),"), as shown in the following\nexample:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'var inputTxt:TextField;\nvar outputTxt:TextField;\n\ninputTxt = new TextField();\ninputTxt.type = TextFieldType.INPUT;\ninputTxt.width = 200;\ninputTxt.height = 18;\ninputTxt.border = true;\ninputTxt.background = true;\naddChild(inputTxt);\n\noutputTxt = new TextField();\noutputTxt.autoSize = TextFieldAutoSize.LEFT;\noutputTxt.y = 20;\naddChild(outputTxt);\n\nif (Capabilities.hasIME)\n{\n    IME.enabled = true;\n    try\n    {\n        IME.conversionMode = IMEConversionMode.JAPANESE_HIRAGANA;\n    }\n    catch (error:Error)\n    {\n        outputTxt.text = "Unable to change IME.";\n    }\n    System.ime.addEventListener(IMEEvent.IME_COMPOSITION, imeCompositionHandler);\n}\nelse\n{\n    outputTxt.text = "Please install IME and try again.";\n}\n\nfunction imeCompositionHandler(event:IMEEvent):void\n{\n    outputTxt.text = "you typed: " + event.text;\n}\n')),(0,a.kt)("p",null,"The previous code creates two text fields and adds them to the display list. The\nfirst text field, ",(0,a.kt)("inlineCode",{parentName:"p"},"inputTxt"),", is an input text field that allows the user to\nenter Japanese text. The second text field, ",(0,a.kt)("inlineCode",{parentName:"p"},"outputTxt"),", is a dynamic text field\nthat displays error messages to the user, or echoes the Japanese string that the\nuser types into the ",(0,a.kt)("inlineCode",{parentName:"p"},"inputTxt")," text field."))}u.isMDXComponent=!0}}]);