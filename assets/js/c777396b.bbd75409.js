"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[75118],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>h});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=r.createContext({}),c=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=c(e.components);return r.createElement(l.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},v=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(t),v=o,h=d["".concat(l,".").concat(v)]||d[v]||u[v]||a;return t?r.createElement(h,i(i({ref:n},p),{},{components:t})):r.createElement(h,i({ref:n},p))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=v;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[d]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<a;c++)i[c]=t[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}v.displayName="MDXCreateElement"},67230:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var r=t(87462),o=(t(67294),t(3905));const a={sidebar_position:7},i="Responding to error events and status",s={unversionedId:"development/core-actionscript-classes/handling-errors/responding-to-error-events-and-status",id:"development/core-actionscript-classes/handling-errors/responding-to-error-events-and-status",title:"Responding to error events and status",description:"One of the most noticeable improvements to error handling in ActionScript 3.0 is",source:"@site/docs/development/core-actionscript-classes/handling-errors/responding-to-error-events-and-status.md",sourceDirName:"development/core-actionscript-classes/handling-errors",slug:"/development/core-actionscript-classes/handling-errors/responding-to-error-events-and-status",permalink:"/docs/development/core-actionscript-classes/handling-errors/responding-to-error-events-and-status",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/core-actionscript-classes/handling-errors/responding-to-error-events-and-status.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"mainSidebar",previous:{title:"Creating custom error classes",permalink:"/docs/development/core-actionscript-classes/handling-errors/creating-custom-error-classes"},next:{title:"Comparing the Error classes",permalink:"/docs/development/core-actionscript-classes/handling-errors/comparing-the-error-classes"}},l={},c=[{value:"Working with error events",id:"working-with-error-events",level:2},{value:"Working with status change events",id:"working-with-status-change-events",level:2}],p={toc:c},d="wrapper";function u(e){let{components:n,...t}=e;return(0,o.kt)(d,(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"responding-to-error-events-and-status"},"Responding to error events and status"),(0,o.kt)("p",null,"One of the most noticeable improvements to error handling in ActionScript 3.0 is\nthe support for error event handling for responding to asynchronous errors while\nan application is running. (For a definition of asynchronous errors, see\n",(0,o.kt)("a",{parentName:"p",href:"/docs/development/core-actionscript-classes/handling-errors/types-of-errors"},"Types of errors"),".)"),(0,o.kt)("p",null,"You can create event listeners and event handlers to respond to the error\nevents. Many classes dispatch error events the same way they dispatch other\nevents. For example, an instance of the XMLSocket class normally dispatches\nthree types of events: ",(0,o.kt)("inlineCode",{parentName:"p"},"Event.CLOSE"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Event.CONNECT"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"DataEvent.DATA"),".\nHowever, when a problem occurs, the XMLSocket class can dispatch the\n",(0,o.kt)("inlineCode",{parentName:"p"},"IOErrorEvent.IOError")," or the ",(0,o.kt)("inlineCode",{parentName:"p"},"SecurityErrorEvent.SECURITY_ERROR"),". For more\ninformation about event listeners and event handlers, see\n",(0,o.kt)("a",{parentName:"p",href:"/docs/development/core-actionscript-classes/handling-events/"},"Handling events"),"."),(0,o.kt)("p",null,"Error events fit into one of two categories:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Error events that extend the ErrorEvent class"),(0,o.kt)("p",{parentName:"li"},"The flash.events.ErrorEvent class contains the properties and methods for\nmanaging errors related to networking and communication operations in a\nrunning application. The AsyncErrorEvent, IOErrorEvent, and SecurityErrorEvent\nclasses extend the ErrorEvent class. If you're using the debugger version of a\nFlash runtime, a dialog box informs you at run-time of any error events\nwithout listener functions that the player encounters.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Status-based error events"),(0,o.kt)("p",{parentName:"li"},"The status-based error events are related to the ",(0,o.kt)("inlineCode",{parentName:"p"},"netStatus")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"status"),"\nproperties of the networking and communication classes. If a Flash runtime\nencounters a problem when reading or writing data, the value of the\n",(0,o.kt)("inlineCode",{parentName:"p"},"netStatus.info.level")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"status.level")," properties (depending on the class\nobject you're using) is set to the value ",(0,o.kt)("inlineCode",{parentName:"p"},'"error"'),". You respond to this error\nby checking if the ",(0,o.kt)("inlineCode",{parentName:"p"},"level")," property contains the value ",(0,o.kt)("inlineCode",{parentName:"p"},'"error"')," in your event\nhandler function."))),(0,o.kt)("h2",{id:"working-with-error-events"},"Working with error events"),(0,o.kt)("p",null,"The ErrorEvent class and its subclasses contain error types for handling errors\ndispatched by Flash runtimes as they try to read or write data."),(0,o.kt)("p",null,"The following example uses both a ",(0,o.kt)("inlineCode",{parentName:"p"},"try..catch"),' statement and error event\nhandlers to display any errors detected while trying to read a local file. You\ncan add more sophisticated handling code to provide a user with options or\notherwise handle the error automatically in the places indicated by the comment\n"your error-handling code here":'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'package\n{\n    import flash.display.Sprite;\n    import flash.errors.IOError;\n    import flash.events.IOErrorEvent;\n    import flash.events.TextEvent;\n    import flash.media.Sound;\n    import flash.media.SoundChannel;\n    import flash.net.URLRequest;\n    import flash.text.TextField;\n    import flash.text.TextFieldAutoSize;\n\n    public class LinkEventExample extends Sprite\n    {\n        private var myMP3:Sound;\n        public function LinkEventExample()\n        {\n            myMP3 = new Sound();\n            var list:TextField = new TextField();\n            list.autoSize = TextFieldAutoSize.LEFT;\n            list.multiline = true;\n            list.htmlText = "<a href=\\"event:track1.mp3\\">Track 1</a><br>";\n            list.htmlText += "<a href=\\"event:track2.mp3\\">Track 2</a><br>";\n            addEventListener(TextEvent.LINK, linkHandler);\n            addChild(list);\n        }\n\n        private function playMP3(mp3:String):void\n        {\n            try\n            {\n                myMP3.load(new URLRequest(mp3));\n                myMP3.play();\n            }\n            catch (err:Error)\n            {\n                trace(err.message);\n                // your error-handling code here\n            }\n            myMP3.addEventListener(IOErrorEvent.IO_ERROR, errorHandler);\n        }\n\n        private function linkHandler(linkEvent:TextEvent):void\n        {\n            playMP3(linkEvent.text);\n            // your error-handling code here\n        }\n\n        private function errorHandler(errorEvent:IOErrorEvent):void\n        {\n            trace(errorEvent.text);\n            // your error-handling code here\n        }\n    }\n}\n')),(0,o.kt)("h2",{id:"working-with-status-change-events"},"Working with status change events"),(0,o.kt)("p",null,"Flash runtimes dynamically change the value of the ",(0,o.kt)("inlineCode",{parentName:"p"},"netStatus.info.level")," or\n",(0,o.kt)("inlineCode",{parentName:"p"},"status.level")," properties for the classes that support the ",(0,o.kt)("inlineCode",{parentName:"p"},"level")," property\nwhile an application is running. The classes that have the\n",(0,o.kt)("inlineCode",{parentName:"p"},"netStatus.info.level")," property are NetConnection, NetStream, and SharedObject.\nThe classes that have the ",(0,o.kt)("inlineCode",{parentName:"p"},"status.level")," property are HTTPStatusEvent, Camera,\nMicrophone, and LocalConnection. You can write a handler function to respond to\nthe change in ",(0,o.kt)("inlineCode",{parentName:"p"},"level")," value and track communication errors."),(0,o.kt)("p",null,"The following example uses a ",(0,o.kt)("inlineCode",{parentName:"p"},"netStatusHandler()")," function to test the value of\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"level")," property. If the ",(0,o.kt)("inlineCode",{parentName:"p"},"level"),' property indicates that an error has been\nencountered, the code traces the message "Video stream failed".'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'package\n{\n    import flash.display.Sprite;\n    import flash.events.NetStatusEvent;\n    import flash.events.SecurityErrorEvent;\n    import flash.media.Video;\n    import flash.net.NetConnection;\n    import flash.net.NetStream;\n\n    public class VideoExample extends Sprite\n    {\n        private var videoUrl:String = "Video.flv";\n        private var connection:NetConnection;\n        private var stream:NetStream;\n\n        public function VideoExample()\n        {\n            connection = new NetConnection();\n            connection.addEventListener(NetStatusEvent.NET_STATUS, netStatusHandler);\n            connection.addEventListener(SecurityErrorEvent.SECURITY_ERROR, securityErrorHandler);\n            connection.connect(null);\n        }\n\n        private function netStatusHandler(event:NetStatusEvent):void\n        {\n            if (event.info.level == "error")\n            {\n                trace("Video stream failed")\n            }\n            else\n            {\n                connectStream();\n            }\n        }\n\n        private function securityErrorHandler(event:SecurityErrorEvent):void\n        {\n            trace("securityErrorHandler: " + event);\n        }\n\n        private function connectStream():void\n        {\n            var stream:NetStream = new NetStream(connection);\n            var video:Video = new Video();\n            video.attachNetStream(stream);\n            stream.play(videoUrl);\n            addChild(video);\n        }\n    }\n}\n')))}u.isMDXComponent=!0}}]);