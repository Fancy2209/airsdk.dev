"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[4254],{3905:(e,n,t)=>{t.d(n,{Zo:()=>m,kt:()=>v});var i=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var u=i.createContext({}),s=function(e){var n=i.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},m=function(e){var n=s(e.components);return i.createElement(u.Provider,{value:n},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},c=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,u=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),d=s(t),c=a,v=d["".concat(u,".").concat(c)]||d[c]||p[c]||r;return t?i.createElement(v,o(o({ref:n},m),{},{components:t})):i.createElement(v,o({ref:n},m))}));function v(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,o=new Array(r);o[0]=c;var l={};for(var u in n)hasOwnProperty.call(n,u)&&(l[u]=n[u]);l.originalType=e,l[d]="string"==typeof e?e:a,o[1]=l;for(var s=2;s<r;s++)o[s]=t[s];return i.createElement.apply(null,o)}return i.createElement.apply(null,t)}c.displayName="MDXCreateElement"},48004:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var i=t(87462),a=(t(67294),t(3905));const r={sidebar_position:5},o="Handling menu events",l={unversionedId:"development/user-interaction/working-with-menus/handling-menu-events",id:"development/user-interaction/working-with-menus/handling-menu-events",title:"Handling menu events",description:"A menu dispatches events when the user selects the menu or when the user selects",source:"@site/docs/development/user-interaction/working-with-menus/handling-menu-events.md",sourceDirName:"development/user-interaction/working-with-menus",slug:"/development/user-interaction/working-with-menus/handling-menu-events",permalink:"/docs/development/user-interaction/working-with-menus/handling-menu-events",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/user-interaction/working-with-menus/handling-menu-events.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"mainSidebar",previous:{title:"Displaying pop-up native menus (AIR)",permalink:"/docs/development/user-interaction/working-with-menus/displaying-pop-up-native-menus-air"},next:{title:"Native menu example: Window and application menu (AIR)",permalink:"/docs/development/user-interaction/working-with-menus/native-menu-example-window-and-application-menu-air"}},u={},s=[{value:"Events summary for menu classes",id:"events-summary-for-menu-classes",level:2},{value:"Select menu events",id:"select-menu-events",level:2},{value:"Displaying menu events",id:"displaying-menu-events",level:2}],m={toc:s},d="wrapper";function p(e){let{components:n,...t}=e;return(0,a.kt)(d,(0,i.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"handling-menu-events"},"Handling menu events"),(0,a.kt)("p",null,"A menu dispatches events when the user selects the menu or when the user selects\na menu item."),(0,a.kt)("h2",{id:"events-summary-for-menu-classes"},"Events summary for menu classes"),(0,a.kt)("p",null,"Add event listeners to menus or individual items to handle menu events."),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,(0,a.kt)("p",null,"Object")),(0,a.kt)("th",null,(0,a.kt)("p",null,"Events dispatched")))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("p",null,"NativeMenu (AIR)")),(0,a.kt)("td",null,(0,a.kt)("p",null,"Event.PREPARING (Adobe AIR 2.6 and later)"),(0,a.kt)("p",null,"Event.DISPLAYING"),(0,a.kt)("p",null,"Event.SELECT (propagated from child items and submenus)"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("p",null,"NativeMenuItem (AIR)")),(0,a.kt)("td",null,(0,a.kt)("p",null,"Event.PREPARING (Adobe AIR 2.6 and later)"),(0,a.kt)("p",null,"Event.SELECT"),(0,a.kt)("p",null,"Event.DISPLAYING (propagated from parent menu)"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("p",null,"ContextMenu")),(0,a.kt)("td",null,(0,a.kt)("p",null,"ContextMenuEvent.MENU_SELECT"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("p",null,"ContextMenuItem")),(0,a.kt)("td",null,(0,a.kt)("p",null,"ContextMenuEvent.MENU_ITEM_SELECT"),(0,a.kt)("p",null,"Event.SELECT (AIR)"))))),(0,a.kt)("h2",{id:"select-menu-events"},"Select menu events"),(0,a.kt)("p",null,"To handle a click on a menu item, add an event listener for the ",(0,a.kt)("inlineCode",{parentName:"p"},"select")," event\nto the NativeMenuItem object:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'var menuCommandX:NativeMenuItem = new NativeMenuItem("Command X");\nmenuCommandX.addEventListener(Event.SELECT, doCommandX)\n')),(0,a.kt)("p",null,"Because ",(0,a.kt)("inlineCode",{parentName:"p"},"select")," events bubble up to the containing menus, you can also listen\nfor select events on a parent menu. When listening at the menu level, you can\nuse the event object ",(0,a.kt)("inlineCode",{parentName:"p"},"target")," property to determine which menu command was\nselected. The following example traces the label of the selected command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'var colorMenuItem:NativeMenuItem = new NativeMenuItem("Choose a color");\nvar colorMenu:NativeMenu = new NativeMenu();\ncolorMenuItem.submenu = colorMenu;\n\nvar red:NativeMenuItem = new NativeMenuItem("Red");\nvar green:NativeMenuItem = new NativeMenuItem("Green");\nvar blue:NativeMenuItem = new NativeMenuItem("Blue");\ncolorMenu.addItem(red);\ncolorMenu.addItem(green);\ncolorMenu.addItem(blue);\n\nif(NativeApplication.supportsMenu) {\n    NativeApplication.nativeApplication.menu.addItem(colorMenuItem);\n    NativeApplication.nativeApplication.menu.addEventListener(Event.SELECT, colorChoice);\n} else if (NativeWindow.supportsMenu) {\n    var windowMenu:NativeMenu = new NativeMenu();\n    this.stage.nativeWindow.menu = windowMenu;\n    windowMenu.addItem(colorMenuItem);\n    windowMenu.addEventListener(Event.SELECT, colorChoice);\n}\n\nfunction colorChoice(event:Event):void {\n    var menuItem:NativeMenuItem = event.target as NativeMenuItem;\n    trace(menuItem.label + " has been selected");\n}\n')),(0,a.kt)("p",null,"If you are using the ContextMenuItem class, you can listen for either the\n",(0,a.kt)("inlineCode",{parentName:"p"},"select")," event or the ",(0,a.kt)("inlineCode",{parentName:"p"},"menuItemSelect")," event. The ",(0,a.kt)("inlineCode",{parentName:"p"},"menuItemSelect")," event gives\nyou additional information about the object owning the context menu, but does\nnot bubble up to the containing menus."),(0,a.kt)("h2",{id:"displaying-menu-events"},"Displaying menu events"),(0,a.kt)("p",null,"To handle the opening of a menu, you can add a listener for the ",(0,a.kt)("inlineCode",{parentName:"p"},"displaying"),"\nevent, which is dispatched before a menu is displayed. You can use the\ndisplaying event to update the menu, for example by adding or removing items, or\nby updating the enabled or checked states of individual items. You can also\nlisten for the ",(0,a.kt)("inlineCode",{parentName:"p"},"menuSelect")," event from a ContextMenu object."),(0,a.kt)("p",null,"In AIR 2.6 and later, you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"preparing")," event to update a menu in\nresponse to either displaying a menu or selecting an item with a keyboard\nshortcut."))}p.isMDXComponent=!0}}]);