"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[53858],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>v});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},m=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),u=c(n),d=o,v=u["".concat(s,".").concat(d)]||u[d]||p[d]||i;return n?r.createElement(v,a(a({ref:t},m),{},{components:n})):r.createElement(v,a({ref:t},m))}));function v(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:o,a[1]=l;for(var c=2;c<i;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},63503:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=n(87462),o=(n(67294),n(3905));const i={},a="Handling Events in FTE",l={unversionedId:"development/text/using-the-flash-text-engine/handling-events-in-fte",id:"development/text/using-the-flash-text-engine/handling-events-in-fte",title:"Handling Events in FTE",description:"You can add event listeners to a TextLine instance just as you can to other",source:"@site/docs/development/text/using-the-flash-text-engine/handling-events-in-fte.md",sourceDirName:"development/text/using-the-flash-text-engine",slug:"/development/text/using-the-flash-text-engine/handling-events-in-fte",permalink:"/docs/development/text/using-the-flash-text-engine/handling-events-in-fte",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/text/using-the-flash-text-engine/handling-events-in-fte.md",tags:[],version:"current",frontMatter:{},sidebar:"mainSidebar",previous:{title:"Formatting text",permalink:"/docs/development/text/using-the-flash-text-engine/formatting-text"},next:{title:"Working with fonts",permalink:"/docs/development/text/using-the-flash-text-engine/working-with-fonts"}},s={},c=[{value:"Mirroring events",id:"mirroring-events",level:2}],m={toc:c},u="wrapper";function p(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"handling-events-in-fte"},"Handling Events in FTE"),(0,o.kt)("p",null,"You can add event listeners to a TextLine instance just as you can to other\ndisplay objects. For example, you can detect when a user rolls the mouse over a\ntext line or a user clicks the line. The following example detects both of these\nevents. When you roll the mouse over the line, the cursor changes to a button\ncursor and when you click the line, it changes color."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'package\n{\n    import flash.text.engine.*;\n    import flash.ui.Mouse;\n    import flash.display.Sprite\n    import flash.events.MouseEvent;\n    import flash.events.EventDispatcher;\n\n    public class EventHandlerExample extends Sprite\n    {\n        var textBlock:TextBlock = new TextBlock();\n\n        public function EventHandlerExample():void\n        {\n            var str:String = "I\'ll change color if you click me.";\n            var fontDescription:FontDescription = new FontDescription("Arial");\n            var format:ElementFormat = new ElementFormat(fontDescription, 18);\n            var textElement = new TextElement(str, format);\n            textBlock.content = textElement;\n            createLine(textBlock);\n        }\n\n        private function createLine(textBlock:TextBlock):void\n        {\n            var textLine:TextLine = textBlock.createTextLine(null, 500);\n            textLine.x = 30;\n            textLine.y = 30;\n            addChild(textLine);\n            textLine.addEventListener("mouseOut", mouseOutHandler);\n            textLine.addEventListener("mouseOver", mouseOverHandler);\n            textLine.addEventListener("click", clickHandler);\n        }\n\n        private function mouseOverHandler(event:MouseEvent):void\n        {\n            Mouse.cursor = "button";\n        }\n\n        private function mouseOutHandler(event:MouseEvent):void\n        {\n            Mouse.cursor = "arrow";\n        }\n\n        function clickHandler(event:MouseEvent):void {\n            if(textBlock.firstLine)\n                removeChild(textBlock.firstLine);\n            var newFormat:ElementFormat = textBlock.content.elementFormat.clone();\n            switch(newFormat.color)\n            {\n                case 0x000000:\n                    newFormat.color = 0xFF0000;\n                    break;\n                case 0xFF0000:\n                    newFormat.color = 0x00FF00;\n                    break;\n                case 0x00FF00:\n                    newFormat.color = 0x0000FF;\n                    break;\n                case 0x0000FF:\n                    newFormat.color = 0x000000;\n                    break;\n            }\n            textBlock.content.elementFormat = newFormat;\n            createLine(textBlock);\n        }\n    }\n}\n')),(0,o.kt)("h2",{id:"mirroring-events"},"Mirroring events"),(0,o.kt)("p",null,"You can also mirror events on a text block, or on a portion of a text block, to\nan event dispatcher. First, create an EventDispatcher instance and then assign\nit to the ",(0,o.kt)("inlineCode",{parentName:"p"},"eventMirror")," property of a TextElement instance. If the text block\nconsists of a single text element, the text engine mirrors events for the entire\ntext block. If the text block consists of multiple text elements, the text\nengine mirrors events only for the TextElement instances that have the\n",(0,o.kt)("inlineCode",{parentName:"p"},"eventMirror"),' property set. The text in the following example consists of three\nelements: the word "Click", the word "here", and the string "to see me in\nitalic". The example assigns an event dispatcher to the second text element, the\nword "here", and adds an event listener, the ',(0,o.kt)("inlineCode",{parentName:"p"},"clickHandler()")," method. The\n",(0,o.kt)("inlineCode",{parentName:"p"},"clickHandler()"),' method changes the text to italic. It also replaces the content\nof the third text element to read, "Click here to see me in normal font!".'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'package\n{\n    import flash.text.engine.*;\n    import flash.ui.Mouse;\n    import flash.display.Sprite;\n    import flash.events.MouseEvent;\n    import flash.events.EventDispatcher;\n\n    public class EventMirrorExample extends Sprite\n    {\n        var fontDescription:FontDescription = new FontDescription("Helvetica", "bold");\n        var format:ElementFormat = new ElementFormat(fontDescription, 18);\n        var textElement1 = new TextElement("Click ", format);\n        var textElement2 = new TextElement("here ", format);\n        var textElement3 = new TextElement("to see me in italic! ", format);\n        var textBlock:TextBlock = new TextBlock();\n\n        public function EventMirrorExample()\n        {\n            var myEvent:EventDispatcher = new EventDispatcher();\n\n            myEvent.addEventListener("click", clickHandler);\n            myEvent.addEventListener("mouseOut", mouseOutHandler);\n            myEvent.addEventListener("mouseOver", mouseOverHandler);\n\n            textElement2.eventMirror=myEvent;\n\n            var groupVector:Vector.<ContentElement> = new Vector.<ContentElement>;\n            groupVector.push(textElement1, textElement2, textElement3);\n            var groupElement:GroupElement = new GroupElement(groupVector);\n\n            textBlock.content = groupElement;\n            createLines(textBlock);\n        }\n\n        private function clickHandler(event:MouseEvent):void\n        {\n            var newFont:FontDescription = new FontDescription();\n            newFont.fontWeight = "bold";\n\n            var newFormat:ElementFormat = new ElementFormat();\n            newFormat.fontSize = 18;\n            if(textElement3.text == "to see me in italic! ") {\n                newFont.fontPosture = FontPosture.ITALIC;\n                textElement3.replaceText(0,21, "to see me in normal font! ");\n            }\n            else {\n                newFont.fontPosture = FontPosture.NORMAL;\n                textElement3.replaceText(0, 26, "to see me in italic! ");\n            }\n            newFormat.fontDescription = newFont;\n            textElement1.elementFormat = newFormat;\n            textElement2.elementFormat = newFormat;\n            textElement3.elementFormat = newFormat;\n            createLines(textBlock);\n        }\n\n        private function mouseOverHandler(event:MouseEvent):void\n        {\n            Mouse.cursor = "button";\n        }\n\n        private function mouseOutHandler(event:MouseEvent):void\n        {\n                Mouse.cursor = "arrow";\n        }\n\n        private function createLines(textBlock:TextBlock):void\n        {\n            if(textBlock.firstLine)\n                removeChild (textBlock.firstLine);\n            var textLine:TextLine = textBlock.createTextLine (null, 300);\n            textLine.x = 15;\n            textLine.y = 20;\n            addChild (textLine);\n        }\n    }\n}\n')),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"mouseOverHandler()")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"mouseOutHandler()")," functions set the cursor to a\nbutton cursor when it's over the word \"here\" and back to an arrow when it's not."))}p.isMDXComponent=!0}}]);