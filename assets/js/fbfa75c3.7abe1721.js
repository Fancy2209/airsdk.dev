"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[39111],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),l=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},y="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),y=l(a),d=r,h=y["".concat(c,".").concat(d)]||y[d]||u[d]||o;return a?n.createElement(h,i(i({ref:t},p),{},{components:a})):n.createElement(h,i({ref:t},p))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[y]="string"==typeof e?e:r,i[1]=s;for(var l=2;l<o;l++)i[l]=a[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},41407:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var n=a(87462),r=(a(67294),a(3905));const o={sidebar_position:3},i="Associative arrays",s={unversionedId:"development/core-actionscript-classes/working-with-arrays/associative-arrays",id:"development/core-actionscript-classes/working-with-arrays/associative-arrays",title:"Associative arrays",description:"An associative array, sometimes called a hash or map, uses keys instead of",source:"@site/docs/development/core-actionscript-classes/working-with-arrays/associative-arrays.md",sourceDirName:"development/core-actionscript-classes/working-with-arrays",slug:"/development/core-actionscript-classes/working-with-arrays/associative-arrays",permalink:"/docs/development/core-actionscript-classes/working-with-arrays/associative-arrays",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/core-actionscript-classes/working-with-arrays/associative-arrays.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"mainSidebar",previous:{title:"Indexed arrays",permalink:"/docs/development/core-actionscript-classes/working-with-arrays/indexed-arrays"},next:{title:"Multidimensional arrays",permalink:"/docs/development/core-actionscript-classes/working-with-arrays/multidimensional-arrays"}},c={},l=[{value:"Associative arrays with string keys",id:"associative-arrays-with-string-keys",level:2},{value:"Associative arrays with object keys (Dictionaries)",id:"associative-arrays-with-object-keys-dictionaries",level:2},{value:"Iterating with object keys",id:"iterating-with-object-keys",level:4},{value:"Object keys and memory management",id:"object-keys-and-memory-management",level:4}],p={toc:l},y="wrapper";function u(e){let{components:t,...a}=e;return(0,r.kt)(y,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"associative-arrays"},"Associative arrays"),(0,r.kt)("p",null,"An associative array, sometimes called a ",(0,r.kt)("em",{parentName:"p"},"hash")," or ",(0,r.kt)("em",{parentName:"p"},"map"),", uses ",(0,r.kt)("em",{parentName:"p"},"keys")," instead of\na numeric index to organize stored values. Each key in an associative array is a\nunique string that is used to access a stored value. An associative array is an\ninstance of the Object class, which means that each key corresponds to a\nproperty name. Associative arrays are unordered collections of key and value\npairs. Your code should not expect the keys of an associative array to be in a\nspecific order."),(0,r.kt)("p",null,"ActionScript 3.0 also includes an advanced type of associative array called a\n",(0,r.kt)("em",{parentName:"p"},"dictionary"),". Dictionaries, which are instances of the Dictionary class in the\nflash.utils package, use keys that can be of any data type. In other words,\ndictionary keys are not limited to values of type String."),(0,r.kt)("h2",{id:"associative-arrays-with-string-keys"},"Associative arrays with string keys"),(0,r.kt)("p",null,"There are two ways to create associative arrays in ActionScript 3.0. The first\nway is to use an Object instance. By using an Object instance you can initialize\nyour array with an object literal. An instance of the Object class, also called\na ",(0,r.kt)("em",{parentName:"p"},"generic object"),", is functionally identical to an associative array. Each\nproperty name of the generic object serves as the key that provides access to a\nstored value."),(0,r.kt)("p",null,"The following example creates an associative array named ",(0,r.kt)("inlineCode",{parentName:"p"},"monitorInfo"),", using an\nobject literal to initialize the array with two key and value pairs:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'var monitorInfo:Object = {type:"Flat Panel", resolution:"1600 x 1200"};\ntrace(monitorInfo["type"], monitorInfo["resolution"]);\n// output: Flat Panel 1600 x 1200\n')),(0,r.kt)("p",null,"If you do not need to initialize the array at declaration time, you can use the\nObject constructor to create the array, as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"var monitorInfo:Object = new Object();\n")),(0,r.kt)("p",null,"After the array is created using either an object literal or the Object class\nconstructor, you can add new values to the array using either the array access\n(",(0,r.kt)("inlineCode",{parentName:"p"},"[]"),") operator or the dot operator (",(0,r.kt)("inlineCode",{parentName:"p"},"."),"). The following example adds two new\nvalues to ",(0,r.kt)("inlineCode",{parentName:"p"},"monitorArray"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'monitorInfo["aspect ratio"] = "16:10"; // bad form, do not use spaces\nmonitorInfo.colors = "16.7 million";\ntrace(monitorInfo["aspect ratio"], monitorInfo.colors);\n// output: 16:10 16.7 million\n')),(0,r.kt)("p",null,"Note that the key named ",(0,r.kt)("inlineCode",{parentName:"p"},"aspect ratio")," contains a space character. This is\npossible with the array access ( ",(0,r.kt)("inlineCode",{parentName:"p"},"[]"),") operator, but generates an error if\nattempted with the dot operator. Using spaces in your key names is not\nrecommended."),(0,r.kt)("p",null,"The second way to create an associative array is to use the Array constructor\n(or the constructor of any dynamic class) and then use either the array access\n(",(0,r.kt)("inlineCode",{parentName:"p"},"[]"),") operator or the dot operator (",(0,r.kt)("inlineCode",{parentName:"p"},"."),") to add key and value pairs to the\narray. If you declare your associative array to be of type Array, you cannot use\nan object literal to initialize the array. The following example creates an\nassociative array named ",(0,r.kt)("inlineCode",{parentName:"p"},"monitorInfo")," using the Array constructor and adds a key\ncalled ",(0,r.kt)("inlineCode",{parentName:"p"},"type")," and a key called ",(0,r.kt)("inlineCode",{parentName:"p"},"resolution"),", along with their values:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'var monitorInfo:Array = new Array();\nmonitorInfo["type"] = "Flat Panel";\nmonitorInfo["resolution"] = "1600 x 1200";\ntrace(monitorInfo["type"], monitorInfo["resolution"]);\n// output: Flat Panel 1600 x 1200\n')),(0,r.kt)("p",null,"There is no advantage in using the Array constructor to create an associative\narray. You cannot use the ",(0,r.kt)("inlineCode",{parentName:"p"},"Array.length")," property or any of the methods of the\nArray class with associative arrays, even if you use the Array constructor or\nthe Array data type. The use of the Array constructor is best left for the\ncreation of indexed arrays."),(0,r.kt)("h2",{id:"associative-arrays-with-object-keys-dictionaries"},"Associative arrays with object keys (Dictionaries)"),(0,r.kt)("p",null,"You can use the Dictionary class to create an associative array that uses\nobjects for keys rather than strings. Such arrays are sometimes called\ndictionaries, hashes, or maps. For example, consider an application that\ndetermines the location of a Sprite object based on its association with a\nspecific container. You can use a Dictionary object to map each Sprite object to\na container."),(0,r.kt)("p",null,"The following code creates three instances of the Sprite class that serve as\nkeys for the Dictionary object. Each key is assigned a value of either ",(0,r.kt)("inlineCode",{parentName:"p"},"GroupA"),"\nor ",(0,r.kt)("inlineCode",{parentName:"p"},"GroupB"),". The values can be of any data type, but in this example both\n",(0,r.kt)("inlineCode",{parentName:"p"},"GroupA")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"GroupB")," are instances of the Object class. Subsequently, you can\naccess the value associated with each key with the array access (",(0,r.kt)("inlineCode",{parentName:"p"},"[]"),") operator,\nas shown in the following code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'import flash.display.Sprite;\nimport flash.utils.Dictionary;\n\nvar groupMap:Dictionary = new Dictionary();\n\n// objects to use as keys\nvar spr1:Sprite = new Sprite();\nvar spr2:Sprite = new Sprite();\nvar spr3:Sprite = new Sprite();\n\n// objects to use as values\nvar groupA:Object = new Object();\nvar groupB:Object = new Object();\n\n// Create new key-value pairs in dictionary.\ngroupMap[spr1] = groupA;\ngroupMap[spr2] = groupB;\ngroupMap[spr3] = groupB;\n\nif (groupMap[spr1] == groupA)\n{\n    trace("spr1 is in groupA");\n}\nif (groupMap[spr2] == groupB)\n{\n    trace("spr2 is in groupB");\n}\nif (groupMap[spr3] == groupB)\n{\n    trace("spr3 is in groupB");\n}\n')),(0,r.kt)("h4",{id:"iterating-with-object-keys"},"Iterating with object keys"),(0,r.kt)("p",null,"You can iterate through the contents of a Dictionary object with either a\n",(0,r.kt)("inlineCode",{parentName:"p"},"for..in")," loop or a ",(0,r.kt)("inlineCode",{parentName:"p"},"for each..in")," loop. A ",(0,r.kt)("inlineCode",{parentName:"p"},"for..in")," loop allows you to iterate\nbased on the keys, whereas a ",(0,r.kt)("inlineCode",{parentName:"p"},"for each..in")," loop allows you to iterate based on\nthe values associated with each key."),(0,r.kt)("p",null,"Use the ",(0,r.kt)("inlineCode",{parentName:"p"},"for..in")," loop for direct access to the object keys of a Dictionary\nobject. You can also access the values of the Dictionary object with the array\naccess (",(0,r.kt)("inlineCode",{parentName:"p"},"[]"),") operator. The following code uses the previous example of the\n",(0,r.kt)("inlineCode",{parentName:"p"},"groupMap")," dictionary to show how to iterate through a Dictionary object with\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"for..in")," loop:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"for (var key:Object in groupMap)\n{\n    trace(key, groupMap[key]);\n}\n/* output:\n[object Sprite] [object Object]\n[object Sprite] [object Object]\n[object Sprite] [object Object]\n*/\n")),(0,r.kt)("p",null,"Use the ",(0,r.kt)("inlineCode",{parentName:"p"},"for each..in")," loop for direct access to the values of a Dictionary\nobject. The following code also uses the ",(0,r.kt)("inlineCode",{parentName:"p"},"groupMap")," dictionary to show how to\niterate through a Dictionary object with the ",(0,r.kt)("inlineCode",{parentName:"p"},"for each..in")," loop:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"for each (var item:Object in groupMap)\n{\n    trace(item);\n}\n/* output:\n[object Object]\n[object Object]\n[object Object]\n*/\n")),(0,r.kt)("h4",{id:"object-keys-and-memory-management"},"Object keys and memory management"),(0,r.kt)("p",null,"Adobe\xae Flash\xae Player and Adobe\xae AIR\u2122 use a garbage collection system to recover\nmemory that is no longer used. When an object has no references pointing to it,\nthe object becomes eligible for garbage collection, and the memory is recovered\nthe next time the garbage collection system executes. For example, the following\ncode creates a new object and assigns a reference to the object to the variable\n",(0,r.kt)("inlineCode",{parentName:"p"},"myObject"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"var myObject:Object = new Object();\n")),(0,r.kt)("p",null,"As long as any reference to the object exists, the garbage collection system\nwill not recover the memory that the object occupies. If the value of ",(0,r.kt)("inlineCode",{parentName:"p"},"myObject"),"\nis changed such that it points to a different object or is set to the value\n",(0,r.kt)("inlineCode",{parentName:"p"},"null"),", the memory occupied by the original object becomes eligible for garbage\ncollection, but only if there are no other references to the original object."),(0,r.kt)("p",null,"If you use ",(0,r.kt)("inlineCode",{parentName:"p"},"myObject")," as a key in a Dictionary object, you are creating another\nreference to the original object. For example, the following code creates two\nreferences to an object\u2014the ",(0,r.kt)("inlineCode",{parentName:"p"},"myObject")," variable, and the key in the ",(0,r.kt)("inlineCode",{parentName:"p"},"myMap"),"\nobject:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'import flash.utils.Dictionary;\n\nvar myObject:Object = new Object();\nvar myMap:Dictionary = new Dictionary();\nmyMap[myObject] = "foo";\n')),(0,r.kt)("p",null,"To make the object referenced by ",(0,r.kt)("inlineCode",{parentName:"p"},"myObject")," eligible for garbage collection, you\nmust remove all references to it. In this case, you must change the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"myObject")," and delete the ",(0,r.kt)("inlineCode",{parentName:"p"},"myObject")," key from ",(0,r.kt)("inlineCode",{parentName:"p"},"myMap"),", as shown in the following\ncode:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myObject = null;\ndelete myMap[myObject];\n")),(0,r.kt)("p",null,"Alternatively, you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"useWeakReference")," parameter of the Dictionary\nconstructor to make all of the dictionary keys ",(0,r.kt)("em",{parentName:"p"},"weak references"),". The garbage\ncollection system ignores weak references, which means that an object that has\nonly weak references is eligible for garbage collection. For example, in the\nfollowing code, you do not need to delete the ",(0,r.kt)("inlineCode",{parentName:"p"},"myObject")," key from ",(0,r.kt)("inlineCode",{parentName:"p"},"myMap")," in\norder to make the object eligible for garbage collection:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'import flash.utils.Dictionary;\n\nvar myObject:Object = new Object();\nvar myMap:Dictionary = new Dictionary(true);\nmyMap[myObject] = "foo";\nmyObject = null; // Make object eligible for garbage collection.\n')))}u.isMDXComponent=!0}}]);