"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[16375],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>v});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,s=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=l(r),d=a,v=u["".concat(c,".").concat(d)]||u[d]||m[d]||s;return r?n.createElement(v,o(o({ref:t},p),{},{components:r})):n.createElement(v,o({ref:t},p))}));function v(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=r.length,o=new Array(s);o[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[u]="string"==typeof e?e:a,o[1]=i;for(var l=2;l<s;l++)o[l]=r[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},47284:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var n=r(87462),a=(r(67294),r(3905));const s={sidebar_position:1},o="REST-style web service requests",i={unversionedId:"development/networking-and-communication/http-communications/web-service-requests/rest-style-web-service-requests",id:"development/networking-and-communication/http-communications/web-service-requests/rest-style-web-service-requests",title:"REST-style web service requests",description:"REST-style web services use HTTP method verbs to designate the basic action and",source:"@site/docs/development/networking-and-communication/http-communications/web-service-requests/rest-style-web-service-requests.md",sourceDirName:"development/networking-and-communication/http-communications/web-service-requests",slug:"/development/networking-and-communication/http-communications/web-service-requests/rest-style-web-service-requests",permalink:"/docs/development/networking-and-communication/http-communications/web-service-requests/rest-style-web-service-requests",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/networking-and-communication/http-communications/web-service-requests/rest-style-web-service-requests.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"mainSidebar",previous:{title:"Web service requests",permalink:"/docs/development/networking-and-communication/http-communications/web-service-requests/"},next:{title:"XML-RPC web service requests",permalink:"/docs/development/networking-and-communication/http-communications/web-service-requests/xml-rpc-web-service-requests"}},c={},l=[],p={toc:l},u="wrapper";function m(e){let{components:t,...r}=e;return(0,a.kt)(u,(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"rest-style-web-service-requests"},"REST-style web service requests"),(0,a.kt)("p",null,"REST-style web services use HTTP method verbs to designate the basic action and\nURL variables to specify the action details. For example, a request to get data\nfor an item could use the GET verb and URL variables to specify a method name\nand item ID. The resulting URL string might look like:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"http://service.example.com/?method=getItem&id=d3452\n")),(0,a.kt)("p",null,"To access a REST-style web service with ActionScript, you can use the\nURLRequest, URLVariables, and URLLoader classes. In JavaScript code within an\nAIR application, you can also use an XMLHttpRequest."),(0,a.kt)("p",null,"Programming a REST-style web service call in ActionScript, typically involves\nthe following steps:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Create a URLRequest object.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Set the service URL and HTTP method verb on the request object.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Create a URLVariables object.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Set the service call parameters as dynamic properties of the variables\nobject.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Assign the variables object to the data property of the request object.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Send the call to the service with a URLLoader object.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Handle the ",(0,a.kt)("inlineCode",{parentName:"p"},"complete")," event dispatched by the URLLoader that indicates that\nthe service call is complete. It is also wise to listen for the various\nerror events that can be dispatched by a URLLoader object."))),(0,a.kt)("p",null,"For example, consider a web service that exposes a test method that echoes the\ncall parameters back to the requestor. The following ActionScript code could be\nused to call the service:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'import flash.events.Event;\nimport flash.events.ErrorEvent;\nimport flash.events.IOErrorEvent;\nimport flash.events.SecurityErrorEvent;\nimport flash.net.URLLoader;\nimport flash.net.URLRequest;\nimport flash.net.URLRequestMethod;\nimport flash.net.URLVariables;\n\nprivate var requestor:URLLoader = new URLLoader();\npublic function restServiceCall():void\n{\n    //Create the HTTP request object\n    var request:URLRequest = new URLRequest( "http://service.example.com/" );\n    request.method = URLRequestMethod.GET;\n\n    //Add the URL variables\n    var variables:URLVariables = new URLVariables();\n    variables.method = "test.echo";\n    variables.api_key = "123456ABC";\n    variables.message = "Able was I, ere I saw Elba.";\n    request.data = variables;\n\n    //Initiate the transaction\n    requestor = new URLLoader();\n    requestor.addEventListener( Event.COMPLETE, httpRequestComplete );\n    requestor.addEventListener( IOErrorEvent.IOERROR, httpRequestError );\n    requestor.addEventListener( SecurityErrorEvent.SECURITY_ERROR, httpRequestError );\n    requestor.load( request );\n}\nprivate function httpRequestComplete( event:Event ):void\n{\n    trace( event.target.data );\n}\n\nprivate function httpRequestError( error:ErrorEvent ):void{\n    trace( "An error occured: " + error.message );\n}\n')),(0,a.kt)("p",null,"In JavaScript within an AIR application, you can make the same request using the\nXMLHttpRequest object:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<html>\n<head>\n    <title>RESTful web service request</title>\n    <script type="text/javascript">\n        function makeRequest()\n        {\n            var requestDisplay = document.getElementById( "request" );\n            var resultDisplay  = document.getElementById( "result" );\n\n            //Create a conveninece object to hold the call properties\n            var request = {};\n            request.URL = "http://service.example.com/";\n            request.method = "test.echo";\n            request.HTTPmethod = "GET";\n            request.parameters = {};\n            request.parameters.api_key = "ABCDEF123";\n            request.parameters.message = "Able was I ere I saw Elba.";\n            var requestURL = makeURL( request );\n            xmlhttp = new XMLHttpRequest();\n            xmlhttp.open( request.HTTPmethod, requestURL, true);\n            xmlhttp.onreadystatechange = function() {\n                if (xmlhttp.readyState == 4) {\n                    resultDisplay.innerHTML = xmlhttp.responseText;\n                }\n            }\n            xmlhttp.send(null);\n\n            requestDisplay.innerHTML = requestURL;\n        }\n        //Convert the request object into a properly formatted URL\n        function makeURL( request )\n        {\n            var url = request.URL + "?method=" + escape( request.method );\n            for( var property in request.parameters )\n            {\n                url += "&" + property + "=" + escape( request.parameters[property] );\n            }\n\n            return url;\n        }\n    <\/script>\n</head>\n<body onload="makeRequest()">\n    <h1>Request:</h1>\n    <div id="request"></div>\n    <h1>Result:</h1>\n    <div id="result"></div>\n</body>\n</html>\n')))}m.isMDXComponent=!0}}]);