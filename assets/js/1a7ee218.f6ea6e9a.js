"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[64495],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),m=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=m(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=m(n),u=r,h=d["".concat(l,".").concat(u)]||d[u]||p[u]||s;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,i=new Array(s);i[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[d]="string"==typeof e?e:r,i[1]=o;for(var m=2;m<s;m++)i[m]=n[m];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},53893:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>o,toc:()=>m});var a=n(87462),r=(n(67294),n(3905));const s={sidebar_position:7.4},i="Retrieving data from a database",o={unversionedId:"development/files-and-data/working-with-local-sql-databases-in-air/retrieving-data-from-a-database",id:"development/files-and-data/working-with-local-sql-databases-in-air/retrieving-data-from-a-database",title:"Retrieving data from a database",description:"Retrieving data from a database involves two steps. First, you execute a SQL",source:"@site/docs/development/files-and-data/working-with-local-sql-databases-in-air/retrieving-data-from-a-database.md",sourceDirName:"development/files-and-data/working-with-local-sql-databases-in-air",slug:"/development/files-and-data/working-with-local-sql-databases-in-air/retrieving-data-from-a-database",permalink:"/docs/development/files-and-data/working-with-local-sql-databases-in-air/retrieving-data-from-a-database",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/files-and-data/working-with-local-sql-databases-in-air/retrieving-data-from-a-database.md",tags:[],version:"current",sidebarPosition:7.4,frontMatter:{sidebar_position:7.4},sidebar:"mainSidebar",previous:{title:"Using parameters in statements",permalink:"/docs/development/files-and-data/working-with-local-sql-databases-in-air/using-parameters-in-statements"},next:{title:"Inserting data",permalink:"/docs/development/files-and-data/working-with-local-sql-databases-in-air/inserting-data"}},l={},m=[{value:"Executing a SELECT statement",id:"executing-a-select-statement",level:2},{value:"Accessing SELECT statement result data",id:"accessing-select-statement-result-data",level:2},{value:"Defining the data type of SELECT result data",id:"defining-the-data-type-of-select-result-data",level:2},{value:"Retrieving SELECT results in parts",id:"retrieving-select-results-in-parts",level:2}],c={toc:m},d="wrapper";function p(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"retrieving-data-from-a-database"},"Retrieving data from a database"),(0,r.kt)("p",null,"Retrieving data from a database involves two steps. First, you execute a SQL\n",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement, describing the set of data you want from the database. Next,\nyou access the retrieved data and display or manipulate it as needed by your\napplication."),(0,r.kt)("h2",{id:"executing-a-select-statement"},"Executing a SELECT statement"),(0,r.kt)("p",null,"To retrieve existing data from a database, you use a\n",(0,r.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/data/SQLStatement.html"},"SQLStatement"),"\ninstance. Assign the appropriate SQL ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement to the instance's ",(0,r.kt)("inlineCode",{parentName:"p"},"text"),"\nproperty, then call its ",(0,r.kt)("inlineCode",{parentName:"p"},"execute()")," method."),(0,r.kt)("p",null,"For details on the syntax of the ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement, see\n",(0,r.kt)("a",{parentName:"p",href:"/docs/development/appendixes/sql-support-in-local-databases/"},"SQL support in local databases"),"."),(0,r.kt)("p",null,"The following example demonstrates executing a ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT"),' statement to retrieve\ndata from a table named "products," using asynchronous execution mode:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'var selectStmt:SQLStatement = new SQLStatement();\n\n// A SQLConnection named "conn" has been created previously\nselectStmt.sqlConnection = conn;\n\nselectStmt.text = "SELECT itemId, itemName, price FROM products";\n\nselectStmt.addEventListener(SQLEvent.RESULT, resultHandler);\nselectStmt.addEventListener(SQLErrorEvent.ERROR, errorHandler);\n\nselectStmt.execute();\n\nfunction resultHandler(event:SQLEvent):void\n{\n    var result:SQLResult = selectStmt.getResult();\n\n    var numResults:int = result.data.length;\n    for (var i:int = 0; i < numResults; i++)\n    {\n        var row:Object = result.data[i];\n        var output:String = "itemId: " + row.itemId;\n        output += "; itemName: " + row.itemName;\n        output += "; price: " + row.price;\n        trace(output);\n    }\n}\n\nfunction errorHandler(event:SQLErrorEvent):void\n{\n    // Information about the error is available in the\n    // event.error property, which is an instance of\n    // the SQLError class.\n}\n\n<?xml version="1.0" encoding="utf-8"?>\n<mx:WindowedApplication xmlns:mx="https://www.adobe.com/2006/mxml" creationComplete="init()">\n    <mx:Script>\n        <![CDATA[\n            import flash.data.SQLConnection;\n            import flash.data.SQLResult;\n            import flash.data.SQLStatement;\n            import flash.errors.SQLError;\n            import flash.events.SQLErrorEvent;\n            import flash.events.SQLEvent;\n\n            private function init():void\n            {\n                var selectStmt:SQLStatement = new SQLStatement();\n\n                // A SQLConnection named "conn" has been created previously\n                selectStmt.sqlConnection = conn;\n\n                selectStmt.text = "SELECT itemId, itemName, price FROM products";\n\n                selectStmt.addEventListener(SQLEvent.RESULT, resultHandler);\n                selectStmt.addEventListener(SQLErrorEvent.ERROR, errorHandler);\n\n                selectStmt.execute();\n            }\n\n            private function resultHandler(event:SQLEvent):void\n            {\n                var result:SQLResult = selectStmt.getResult();\n\n                var numResults:int = result.data.length;\n                for (var i:int = 0; i < numResults; i++)\n                {\n                    var row:Object = result.data[i];\n                    var output:String = "itemId: " + row.itemId;\n                    output += "; itemName: " + row.itemName;\n                    output += "; price: " + row.price;\n                    trace(output);\n                }\n            }\n\n            private function errorHandler(event:SQLErrorEvent):void\n            {\n                // Information about the error is available in the\n                // event.error property, which is an instance of\n                // the SQLError class.\n            }\n        ]]>\n    </mx:Script>\n</mx:WindowedApplication>\n')),(0,r.kt)("p",null,"The following example demonstrates executing a ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT"),' statement to retrieve\ndata from a table named "products," using synchronous execution mode:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'var selectStmt:SQLStatement = new SQLStatement();\n\n// A SQLConnection named "conn" has been created previously\nselectStmt.sqlConnection = conn;\n\nselectStmt.text = "SELECT itemId, itemName, price FROM products";\n\ntry\n{\n    selectStmt.execute();\n\n    var result:SQLResult = selectStmt.getResult();\n\n    var numResults:int = result.data.length;\n    for (var i:int = 0; i < numResults; i++)\n    {\n        var row:Object = result.data[i];\n        var output:String = "itemId: " + row.itemId;\n        output += "; itemName: " + row.itemName;\n        output += "; price: " + row.price;\n        trace(output);\n    }\n}\ncatch (error:SQLError)\n{\n    // Information about the error is available in the\n    // error variable, which is an instance of\n    // the SQLError class.\n}\n\n<?xml version="1.0" encoding="utf-8"?>\n<mx:WindowedApplication xmlns:mx="https://www.adobe.com/2006/mxml" creationComplete="init()">\n    <mx:Script>\n        <![CDATA[\n            import flash.data.SQLConnection;\n            import flash.data.SQLResult;\n            import flash.data.SQLStatement;\n            import flash.errors.SQLError;\n            import flash.events.SQLErrorEvent;\n            import flash.events.SQLEvent;\n\n            private function init():void\n            {\n                var selectStmt:SQLStatement = new SQLStatement();\n\n                // A SQLConnection named "conn" has been created previously\n                selectStmt.sqlConnection = conn;\n\n                selectStmt.text = "SELECT itemId, itemName, price FROM products";\n\n                try\n                {\n                    selectStmt.execute();\n\n                    var result:SQLResult = selectStmt.getResult();\n\n                    var numResults:int = result.data.length;\n                    for (var i:int = 0; i < numResults; i++)\n                    {\n                        var row:Object = result.data[i];\n                        var output:String = "itemId: " + row.itemId;\n                        output += "; itemName: " + row.itemName;\n                        output += "; price: " + row.price;\n                        trace(output);\n                    }\n                }\n                catch (error:SQLError)\n                {\n                    // Information about the error is available in the\n                    // error variable, which is an instance of\n                    // the SQLError class.\n                }\n            }\n        ]]>\n    </mx:Script>\n</mx:WindowedApplication>\n')),(0,r.kt)("p",null,"In asynchronous execution mode, when the statement finishes executing, the\nSQLStatement instance dispatches a ",(0,r.kt)("inlineCode",{parentName:"p"},"result")," event ( ",(0,r.kt)("inlineCode",{parentName:"p"},"SQLEvent.RESULT"),")\nindicating that the statement was run successfully. Alternatively, if a\n",(0,r.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/net/Responder.html"},"Responder"),"\nobject is passed as an argument to the ",(0,r.kt)("inlineCode",{parentName:"p"},"execute()")," method, the Responder\nobject's result handler function is called. In synchronous execution mode,\nexecution pauses until the ",(0,r.kt)("inlineCode",{parentName:"p"},"execute()")," operation completes, then continues on\nthe next line of code."),(0,r.kt)("h2",{id:"accessing-select-statement-result-data"},"Accessing SELECT statement result data"),(0,r.kt)("p",null,"Once the ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement has finished executing, the next step is to access\nthe data that was retrieved. You retrieve the result data from executing a\n",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement by calling the SQLStatement object's ",(0,r.kt)("inlineCode",{parentName:"p"},"getResult()")," method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"var result:SQLResult = selectStatement.getResult();\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"getResult()")," method returns a\n",(0,r.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/data/SQLResult.html"},"SQLResult"),"\nobject. The SQLResult object's ",(0,r.kt)("inlineCode",{parentName:"p"},"data")," property is an Array containing the\nresults of the ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"var numResults:int = result.data.length;\nfor (var i:int = 0; i < numResults; i++)\n{\n    // row is an Object representing one row of result data\n    var row:Object = result.data[i];\n}\n")),(0,r.kt)("p",null,"Each row of data in the ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," result set becomes an Object instance contained\nin the ",(0,r.kt)("inlineCode",{parentName:"p"},"data")," Array. That object has properties whose names match the result\nset's column names. The properties contain the values from the result set's\ncolumns. For example, suppose a ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT"),' statement specifies a result set with\nthree columns named "itemId," "itemName," and "price." For each row in the\nresult set, an Object instance is created with properties named ',(0,r.kt)("inlineCode",{parentName:"p"},"itemId"),",\n",(0,r.kt)("inlineCode",{parentName:"p"},"itemName"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"price"),". Those properties contain the values from their\nrespective columns."),(0,r.kt)("p",null,"The following code listing defines a SQLStatement instance whose text is a\n",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement. The statement retrieves rows containing the ",(0,r.kt)("inlineCode",{parentName:"p"},"firstName")," and\n",(0,r.kt)("inlineCode",{parentName:"p"},"lastName")," column values of all the rows of a table named ",(0,r.kt)("inlineCode",{parentName:"p"},"employees"),". This\nexample uses asynchronous execution mode. When the execution completes, the\n",(0,r.kt)("inlineCode",{parentName:"p"},"selectResult()")," method is called, and the resulting rows of data are accessed\nusing ",(0,r.kt)("inlineCode",{parentName:"p"},"SQLStatement.getResult()")," and displayed using the ",(0,r.kt)("inlineCode",{parentName:"p"},"trace()")," method. Note\nthat this listing assumes there is a SQLConnection instance named ",(0,r.kt)("inlineCode",{parentName:"p"},"conn"),' that\nhas already been instantiated and is already connected to the database. It also\nassumes that the "employees" table has already been created and populated with\ndata.'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'import flash.data.SQLConnection;\nimport flash.data.SQLResult;\nimport flash.data.SQLStatement;\nimport flash.events.SQLErrorEvent;\nimport flash.events.SQLEvent;\n\n// ... create and open the SQLConnection instance named conn ...\n\n// create the SQL statement\nvar selectStmt:SQLStatement = new SQLStatement();\nselectStmt.sqlConnection = conn;\n\n// define the SQL text\nvar sql:String =\n    "SELECT firstName, lastName " +\n    "FROM employees";\nselectStmt.text = sql;\n\n// register listeners for the result and error events\nselectStmt.addEventListener(SQLEvent.RESULT, selectResult);\nselectStmt.addEventListener(SQLErrorEvent.ERROR, selectError);\n\n// execute the statement\nselectStmt.execute();\n\nfunction selectResult(event:SQLEvent):void\n{\n    // access the result data\n    var result:SQLResult = selectStmt.getResult();\n\n    var numRows:int = result.data.length;\n    for (var i:int = 0; i < numRows; i++)\n    {\n        var output:String = "";\n        for (var columnName:String in result.data[i])\n        {\n            output += columnName + ": " + result.data[i][columnName] + "; ";\n        }\n        trace("row[" + i.toString() + "]\\t", output);\n    }\n}\n\nfunction selectError(event:SQLErrorEvent):void\n{\n    trace("Error message:", event.error.message);\n    trace("Details:", event.error.details);\n}\n\n<?xml version="1.0" encoding="utf-8"?>\n<mx:WindowedApplication xmlns:mx="https://www.adobe.com/2006/mxml" creationComplete="init()">\n    <mx:Script>\n        <![CDATA[\n            import flash.data.SQLConnection;\n            import flash.data.SQLResult;\n            import flash.data.SQLStatement;\n            import flash.events.SQLErrorEvent;\n            import flash.events.SQLEvent;\n\n            private function init():void\n            {\n                // ... create and open the SQLConnection instance named conn ...\n\n                // create the SQL statement\n                var selectStmt:SQLStatement = new SQLStatement();\n                selectStmt.sqlConnection = conn;\n\n                // define the SQL text\n                var sql:String =\n                    "SELECT firstName, lastName " +\n                    "FROM employees";\n                selectStmt.text = sql;\n\n                // register listeners for the result and error events\n                selectStmt.addEventListener(SQLEvent.RESULT, selectResult);\n                selectStmt.addEventListener(SQLErrorEvent.ERROR, selectError);\n\n                // execute the statement\n                selectStmt.execute();\n            }\n\n            private function selectResult(event:SQLEvent):void\n            {\n                // access the result data\n                var result:SQLResult = selectStmt.getResult();\n\n                var numRows:int = result.data.length;\n                for (var i:int = 0; i < numRows; i++)\n                {\n                    var output:String = "";\n                    for (var columnName:String in result.data[i])\n                    {\n                        output += columnName + ": " + result.data[i][columnName] + "; ";\n                    }\n                    trace("row[" + i.toString() + "]\\t", output);\n                }\n            }\n\n            private function selectError(event:SQLErrorEvent):void\n            {\n                trace("Error message:", event.error.message);\n                trace("Details:", event.error.details);\n            }\n        ]]>\n    </mx:Script>\n</mx:WindowedApplication>\n')),(0,r.kt)("p",null,"The following code listing demonstrates the same techniques as the preceding\none, but uses synchronous execution mode. The example defines a\n",(0,r.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/data/SQLStatement.html"},"SQLStatement"),"\ninstance whose text is a ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement. The statement retrieves rows\ncontaining the ",(0,r.kt)("inlineCode",{parentName:"p"},"firstName")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"lastName")," column values of all the rows of a\ntable named ",(0,r.kt)("inlineCode",{parentName:"p"},"employees"),". The resulting rows of data are accessed using\n",(0,r.kt)("inlineCode",{parentName:"p"},"SQLStatement.getResult()")," and displayed using the ",(0,r.kt)("inlineCode",{parentName:"p"},"trace()")," method. Note that\nthis listing assumes there is a SQLConnection instance named ",(0,r.kt)("inlineCode",{parentName:"p"},"conn"),' that has\nalready been instantiated and is already connected to the database. It also\nassumes that the "employees" table has already been created and populated with\ndata.'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'import flash.data.SQLConnection;\nimport flash.data.SQLResult;\nimport flash.data.SQLStatement;\nimport flash.errors.SQLError;\n\n// ... create and open the SQLConnection instance named conn ...\n\n// create the SQL statement\nvar selectStmt:SQLStatement = new SQLStatement();\nselectStmt.sqlConnection = conn;\n\n// define the SQL text\nvar sql:String =\n    "SELECT firstName, lastName " +\n    "FROM employees";\nselectStmt.text = sql;\n\ntry\n{\n    // execute the statement\n    selectStmt.execute();\n\n    // access the result data\n    var result:SQLResult = selectStmt.getResult();\n\n    var numRows:int = result.data.length;\n    for (var i:int = 0; i < numRows; i++)\n    {\n        var output:String = "";\n        for (var columnName:String in result.data[i])\n        {\n            output += columnName + ": " + result.data[i][columnName] + "; ";\n        }\n        trace("row[" + i.toString() + "]\\t", output);\n    }\n}\ncatch (error:SQLError)\n{\n    trace("Error message:", error.message);\n    trace("Details:", error.details);\n}\n\n<?xml version="1.0" encoding="utf-8"?>\n<mx:WindowedApplication xmlns:mx="https://www.adobe.com/2006/mxml" creationComplete="init()">\n    <mx:Script>\n        <![CDATA[\n            import flash.data.SQLConnection;\n            import flash.data.SQLResult;\n            import flash.data.SQLStatement;\n            import flash.errors.SQLError;\n\n            private function init():void\n            {\n                // ... create and open the SQLConnection instance named conn ...\n\n                // create the SQL statement\n                var selectStmt:SQLStatement = new SQLStatement();\n                selectStmt.sqlConnection = conn;\n\n                // define the SQL text\n                var sql:String =\n                    "SELECT firstName, lastName " +\n                    "FROM employees";\n                selectStmt.text = sql;\n\n                try\n                {\n                    // execute the statement\n                    selectStmt.execute();\n\n                    // access the result data\n                    var result:SQLResult = selectStmt.getResult();\n\n                    var numRows:int = result.data.length;\n                    for (var i:int = 0; i < numRows; i++)\n                    {\n                        var output:String = "";\n                        for (var columnName:String in result.data[i])\n                        {\n                            output += columnName + ": ";\n                            output += result.data[i][columnName] + "; ";\n                        }\n                        trace("row[" + i.toString() + "]\\t", output);\n                    }\n                }\n                catch (error:SQLError)\n                {\n                    trace("Error message:", error.message);\n                    trace("Details:", error.details);\n                }\n            }\n        ]]>\n    </mx:Script>\n</mx:WindowedApplication>\n')),(0,r.kt)("h2",{id:"defining-the-data-type-of-select-result-data"},"Defining the data type of SELECT result data"),(0,r.kt)("p",null,"By default, each row returned by a ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement is created as an Object\ninstance with properties named for the result set's column names and with the\nvalue of each column as the value of its associated property. However, before\nexecuting a SQL ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement, you can set the ",(0,r.kt)("inlineCode",{parentName:"p"},"itemClass")," property of the\n",(0,r.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/data/SQLStatement.html"},"SQLStatement"),"\ninstance to a class. By setting the ",(0,r.kt)("inlineCode",{parentName:"p"},"itemClass")," property, each row returned by\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement is created as an instance of the designated class. The\nruntime assigns result column values to property values by matching the column\nnames in the ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," result set to the names of the properties in the\n",(0,r.kt)("inlineCode",{parentName:"p"},"itemClass")," class."),(0,r.kt)("p",null,"Any class assigned as an ",(0,r.kt)("inlineCode",{parentName:"p"},"itemClass")," property value must have a constructor that\ndoes not require any parameters. In addition, the class must have a single\nproperty for each column returned by the ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement. It is considered an\nerror if a column in the ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," list does not have a matching property name in\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"itemClass")," class."),(0,r.kt)("h2",{id:"retrieving-select-results-in-parts"},"Retrieving SELECT results in parts"),(0,r.kt)("p",null,"By default, a ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement execution retrieves all the rows of the result\nset at one time. Once the statement completes, you usually process the retrieved\ndata in some way, such as creating objects or displaying the data on the screen.\nIf the statement returns a large number of rows, processing all the data at once\ncan be demanding for the computer, which in turn will cause the user interface\nto not redraw itself."),(0,r.kt)("p",null,"You can improve the perceived performance of your application by instructing the\nruntime to return a specific number of result rows at a time. Doing so causes\nthe initial result data to return more quickly. It also allows you to divide the\nresult rows into sets, so that the user interface is updated after each set of\nrows is processed. Note that it's only practical to use this technique in\nasynchronous execution mode."),(0,r.kt)("p",null,"To retrieve ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," results in parts, specify a value for the\n",(0,r.kt)("inlineCode",{parentName:"p"},"SQLStatement.execute()")," method's first parameter (the ",(0,r.kt)("inlineCode",{parentName:"p"},"prefetch")," parameter).\nThe ",(0,r.kt)("inlineCode",{parentName:"p"},"prefetch")," parameter indicates the number of rows to retrieve the first time\nthe statement executes. When you call a\n",(0,r.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/data/SQLStatement.html"},"SQLStatement"),"\ninstance's ",(0,r.kt)("inlineCode",{parentName:"p"},"execute()")," method, specify a ",(0,r.kt)("inlineCode",{parentName:"p"},"prefetch")," parameter value and only\nthat many rows are retrieved:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'var stmt:SQLStatement = new SQLStatement();\nstmt.sqlConnection = conn;\n\nstmt.text = "SELECT ...";\n\nstmt.addEventListener(SQLEvent.RESULT, selectResult);\n\nstmt.execute(20); // only the first 20 rows (or fewer) are returned\n')),(0,r.kt)("p",null,"The statement dispatches the ",(0,r.kt)("inlineCode",{parentName:"p"},"result")," event, indicating that the first set of\nresult rows is available. The resulting\n",(0,r.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/data/SQLResult.html"},"SQLResult"),"\ninstance's ",(0,r.kt)("inlineCode",{parentName:"p"},"data")," property contains the rows of data, and its ",(0,r.kt)("inlineCode",{parentName:"p"},"complete"),"\nproperty indicates whether there are additional result rows to retrieve. To\nretrieve additional result rows, call the SQLStatement instance's ",(0,r.kt)("inlineCode",{parentName:"p"},"next()"),"\nmethod. Like the ",(0,r.kt)("inlineCode",{parentName:"p"},"execute()")," method, the ",(0,r.kt)("inlineCode",{parentName:"p"},"next()")," method's first parameter is\nused to indicate how many rows to retrieve the next time the result event is\ndispatched."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"function selectResult(event:SQLEvent):void\n{\n    var result:SQLResult = stmt.getResult();\n    if (result.data != null)\n    {\n        // ... loop through the rows or perform other processing ...\n\n        if (!result.complete)\n        {\n            stmt.next(20); // retrieve the next 20 rows\n        }\n        else\n        {\n            stmt.removeEventListener(SQLEvent.RESULT, selectResult);\n        }\n    }\n}\n")),(0,r.kt)("p",null,"The SQLStatement dispatches a ",(0,r.kt)("inlineCode",{parentName:"p"},"result")," event each time the ",(0,r.kt)("inlineCode",{parentName:"p"},"next()")," method\nreturns a subsequent set of result rows. Consequently, the same listener\nfunction can be used to continue processing results (from ",(0,r.kt)("inlineCode",{parentName:"p"},"next()")," calls) until\nall the rows are retrieved."),(0,r.kt)("p",null,"For more information, see the descriptions for the ",(0,r.kt)("inlineCode",{parentName:"p"},"SQLStatement.execute()"),"\nmethod (the ",(0,r.kt)("inlineCode",{parentName:"p"},"prefetch")," parameter description) and the ",(0,r.kt)("inlineCode",{parentName:"p"},"SQLStatement.next()"),"\nmethod."))}p.isMDXComponent=!0}}]);