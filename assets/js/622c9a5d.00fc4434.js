"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[30451],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>h});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),p=d(n),c=i,h=p["".concat(s,".").concat(c)]||p[c]||f[c]||r;return n?a.createElement(h,o(o({ref:t},m),{},{components:n})):a.createElement(h,o({ref:t},m))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:i,o[1]=l;for(var d=2;d<r;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},11369:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>f,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var a=n(87462),i=(n(67294),n(3905));const r={sidebar_position:4},o="Example: Reading an XML file into an XML object",l={unversionedId:"development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/example-reading-an-xml-file-into-an-xml-object",id:"development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/example-reading-an-xml-file-into-an-xml-object",title:"Example: Reading an XML file into an XML object",description:"The following examples demonstrate how to read and write to a text file that",source:"@site/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/example-reading-an-xml-file-into-an-xml-object.md",sourceDirName:"development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files",slug:"/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/example-reading-an-xml-file-into-an-xml-object",permalink:"/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/example-reading-an-xml-file-into-an-xml-object",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/example-reading-an-xml-file-into-an-xml-object.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"mainSidebar",previous:{title:"Using the load() and save() methods",permalink:"/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/using-the-load-and-save-methods"},next:{title:"Example: Reading and writing data with random access",permalink:"/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/example-reading-and-writing-data-with-random-access"}},s={},d=[],m={toc:d},p="wrapper";function f(e){let{components:t,...n}=e;return(0,i.kt)(p,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"example-reading-an-xml-file-into-an-xml-object"},"Example: Reading an XML file into an XML object"),(0,i.kt)("p",null,"The following examples demonstrate how to read and write to a text file that\ncontains XML data."),(0,i.kt)("p",null,"To read from the file, initialize the File and FileStream objects, call the\n",(0,i.kt)("inlineCode",{parentName:"p"},"readUTFBytes()")," method of the FileStream and convert the string to an XML\nobject:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'var file:File = File.documentsDirectory.resolvePath("AIR Test/preferences.xml");\nvar fileStream:FileStream = new FileStream();\nfileStream.open(file, FileMode.READ);\nvar prefsXML:XML = XML(fileStream.readUTFBytes(fileStream.bytesAvailable));\nfileStream.close();\n')),(0,i.kt)("p",null,"Similarly, writing the data to the file is as easy as setting up appropriate\nFile and FileStream objects, and then calling a write method of the FileStream\nobject. Pass the string version of the XML data to the write method as in the\nfollowing code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'var prefsXML:XML = <prefs><autoSave>true</autoSave></prefs>;\nvar file:File = File.documentsDirectory.resolvePath("AIR Test/preferences.xml");\nfileStream = new FileStream();\nfileStream.open(file, FileMode.WRITE);\n\nvar outputString:String = \'<?xml version="1.0" encoding="utf-8"?>\\n\';\noutputString += prefsXML.toXMLString();\n\nfileStream.writeUTFBytes(outputString);\nfileStream.close();\n')),(0,i.kt)("p",null,"These examples use the ",(0,i.kt)("inlineCode",{parentName:"p"},"readUTFBytes()")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"writeUTFBytes()")," methods, because\nthey assume that the files are in UTF-8 format. If not, you may need to use a\ndifferent method (see\n",(0,i.kt)("a",{parentName:"p",href:"/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/working-with-filestream-objects/data-formats-and-choosing-the-read-and-write-methods-to-use"},"Data formats, and choosing the read and write methods to use"),")."),(0,i.kt)("p",null,"The previous examples use FileStream objects opened for synchronous operation.\nYou can also open files for asynchronous operations (which rely on event\nlistener functions to respond to events). For example, the following code shows\nhow to read an XML file asynchronously:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'var file:File = File.documentsDirectory.resolvePath("AIR Test/preferences.xml");\nvar fileStream:FileStream = new FileStream();\nfileStream.addEventListener(Event.COMPLETE, processXMLData);\nfileStream.openAsync(file, FileMode.READ);\nvar prefsXML:XML;\n\nfunction processXMLData(event:Event):void\n{\n    prefsXML = XML(fileStream.readUTFBytes(fileStream.bytesAvailable));\n    fileStream.close();\n}\n')),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"processXMLData()")," method is invoked when the entire file is read into the\nread buffer (when the FileStream object dispatches the ",(0,i.kt)("inlineCode",{parentName:"p"},"complete")," event). It\ncalls the ",(0,i.kt)("inlineCode",{parentName:"p"},"readUTFBytes()")," method to get a string version of the read data, and\nit creates an XML object, ",(0,i.kt)("inlineCode",{parentName:"p"},"prefsXML"),", based on that string."),(0,i.kt)("p",null,"To see a sample application that shows these capabilities, see\n",(0,i.kt)("a",{parentName:"p",href:"https://web.archive.org/web/20170319130306/http://www.adobe.com/devnet/air/flex/quickstart/articles/xml_prefs.html"},"Reading and writing from an XML preferences file"),"."))}f.isMDXComponent=!0}}]);