"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[632],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var i=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function r(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=i.createContext({}),s=function(e){var n=i.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=s(e.components);return i.createElement(p.Provider,{value:n},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},u=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),d=s(t),u=a,m=d["".concat(p,".").concat(u)]||d[u]||h[u]||o;return t?i.createElement(m,l(l({ref:n},c),{},{components:t})):i.createElement(m,l({ref:n},c))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,l=new Array(o);l[0]=u;var r={};for(var p in n)hasOwnProperty.call(n,p)&&(r[p]=n[p]);r.originalType=e,r[d]="string"==typeof e?e:a,l[1]=r;for(var s=2;s<o;s++)l[s]=t[s];return i.createElement.apply(null,l)}return i.createElement.apply(null,t)}u.displayName="MDXCreateElement"},12732:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>s});var i=t(87462),a=(t(67294),t(3905));const o={sidebar_position:2},l="AIR application invocation and termination",r={unversionedId:"development/client-system-interaction/air-application-invokation-and-termination",id:"development/client-system-interaction/air-application-invokation-and-termination",title:"AIR application invocation and termination",description:"This section discusses the ways in which an installed Adobe\xae AIR\xae application",source:"@site/docs/development/client-system-interaction/air-application-invokation-and-termination.md",sourceDirName:"development/client-system-interaction",slug:"/development/client-system-interaction/air-application-invokation-and-termination",permalink:"/docs/development/client-system-interaction/air-application-invokation-and-termination",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/client-system-interaction/air-application-invokation-and-termination.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"mainSidebar",previous:{title:"Capabilities example: Detecting system capabilities",permalink:"/docs/development/client-system-interaction/client-system-environment/capabilities-example-detecting-system-capabilities"},next:{title:"Working with AIR runtime and operating system information",permalink:"/docs/development/client-system-interaction/working-with-air-runtime-and-operating-system-information"}},p={},s=[{value:"Application invocation",id:"application-invocation",level:2},{value:"Capturing command line arguments",id:"capturing-command-line-arguments",level:2},{value:"Example: Invocation event log",id:"example-invocation-event-log",level:3},{value:"ActionScript example",id:"actionscript-example",level:4},{value:"Flex example",id:"flex-example",level:4},{value:"Invoking an AIR application on user login",id:"invoking-an-air-application-on-user-login",level:2},{value:"Invoking an AIR application from the browser",id:"invoking-an-air-application-from-the-browser",level:2},{value:"Application termination",id:"application-termination",level:2}],c={toc:s},d="wrapper";function h(e){let{components:n,...o}=e;return(0,a.kt)(d,(0,i.Z)({},c,o,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"air-application-invocation-and-termination"},"AIR application invocation and termination"),(0,a.kt)("p",null,"This section discusses the ways in which an installed Adobe\xae AIR\xae application\ncan be invoked, as well as options and considerations for closing a running\napplication."),(0,a.kt)("p",null,"Note: The NativeApplication, InvokeEvent, and BrowserInvokeEvent objects are\nonly available to SWF content running in the AIR application sandbox. SWF\ncontent running in the Flash Player runtime, within the browser or the\nstandalone player (projector), or in an AIR application outside the application\nsandbox, cannot access these classes."),(0,a.kt)("p",null,"For a quick explanation and code examples of invoking and terminating AIR\napplications, see the following quick start articles on the Adobe Developer\nConnection:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://web.archive.org/web/20150921204315/http://www.adobe.com/devnet/air/flex/quickstart/articles/startup_options.html"},"Startup Options"))),(0,a.kt)("h2",{id:"application-invocation"},"Application invocation"),(0,a.kt)("p",null,"An AIR application is invoked when the user (or the operating system):"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Launches the application from the desktop shell.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Uses the application as a command on a command line shell.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Opens a type of file for which the application is the default opening\napplication.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"(Mac OS X) clicks the application icon in the dock taskbar (whether or not the\napplication is currently running).")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Chooses to launch the application from the installer (either at the end of a\nnew installation process, or after double-clicking the AIR file for an already\ninstalled application).")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Begins an update of an AIR application when the installed version has signaled\nthat it is handling application updates itself (by including a\n",(0,a.kt)("inlineCode",{parentName:"p"},"<customUpdateUI>true</customUpdateUI>")," declaration in the application\ndescriptor file).")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"(iOS) Receives a notification from the Apple Push Notification service (APNs).")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Invokes the application via a URL.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Visits a web page hosting a Flash badge or application that calls\n",(0,a.kt)("inlineCode",{parentName:"p"},"com.adobe.air.AIR launchApplication()")," method specifying the identifying\ninformation for the AIR application. (The application descriptor must also\ninclude a ",(0,a.kt)("inlineCode",{parentName:"p"},"<allowBrowserInvocation>true</allowBrowserInvocation>")," declaration\nfor browser invocation to succeed.)"))),(0,a.kt)("p",null,"Whenever an AIR application is invoked, AIR dispatches an InvokeEvent object of\ntype ",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," through the singleton NativeApplication object. To allow an\napplication time to initialize itself and register an event listener, ",(0,a.kt)("inlineCode",{parentName:"p"},"invoke"),"\nevents are queued instead of discarded. As soon as a listener is registered, all\nthe queued events are delivered."),(0,a.kt)("p",null,"Note: When an application is invoked using the browser invocation feature, the\nNativeApplication object only dispatches an ",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," event if the application is\nnot already running."),(0,a.kt)("p",null,"To receive ",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," events, call the ",(0,a.kt)("inlineCode",{parentName:"p"},"addEventListener()")," method of the\nNativeApplication object ( ",(0,a.kt)("inlineCode",{parentName:"p"},"NativeApplication.nativeApplication)"),". When an event\nlistener registers for an ",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," event, it also receives all ",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," events\nthat occurred before the registration. Queued ",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," events are dispatched one\nat a time on a short interval after the call to ",(0,a.kt)("inlineCode",{parentName:"p"},"addEventListener()")," returns. If\na new ",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," event occurs during this process, it may be dispatched before one\nor more of the queued events. This event queuing allows you to handle any\n",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," events that have occurred before your initialization code executes.\nKeep in mind that if you add an event listener later in execution (after\napplication initialization), it will still receive all ",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," events that have\noccurred since the application started."),(0,a.kt)("p",null,"Only one instance of an AIR application is started. When an already running\napplication is invoked again, AIR dispatches a new ",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," event to the running\ninstance. It is the responsibility of an AIR application to respond to an\n",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," event and take the appropriate action (such as opening a new document\nwindow)."),(0,a.kt)("p",null,"An ",(0,a.kt)("inlineCode",{parentName:"p"},"InvokeEvent")," object contains any arguments passed to the application, as\nwell as the directory from which the application has been invoked. If the\napplication was invoked because of a file-type association, then the full path\nto the file is included in the command line arguments. Likewise, if the\napplication was invoked because of an application update, the full path to the\nupdate AIR file is provided."),(0,a.kt)("p",null,"When multiple files are opened in one operation a single InvokeEvent object is\ndispatched on Mac OS X. Each file is included in the ",(0,a.kt)("inlineCode",{parentName:"p"},"arguments")," array. On\nWindows and Linux, a separate InvokeEvent object is dispatched for each file."),(0,a.kt)("p",null,"Your application can handle ",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," events by registering a listener with its\nNativeApplication object:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"NativeApplication.nativeApplication.addEventListener(InvokeEvent.INVOKE, onInvokeEvent);\n")),(0,a.kt)("p",null,"And defining an event listener:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"var arguments:Array;\nvar currentDir:File;\npublic function onInvokeEvent(invocation:InvokeEvent):void {\n    arguments = invocation.arguments;\n    currentDir = invocation.currentDirectory;\n}\n")),(0,a.kt)("h2",{id:"capturing-command-line-arguments"},"Capturing command line arguments"),(0,a.kt)("p",null,"The command line arguments associated with the invocation of an AIR application\nare delivered in the InvokeEvent object dispatched by the NativeApplication\nobject. The InvokeEvent ",(0,a.kt)("inlineCode",{parentName:"p"},"arguments")," property contains an array of the arguments\npassed by the operating system when an AIR application is invoked. If the\narguments contain relative file paths, you can typically resolve the paths using\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"currentDirectory")," property."),(0,a.kt)("p",null,"The arguments passed to an AIR program are treated as white-space delimited\nstrings, unless enclosed in double quotes:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null}),(0,a.kt)("th",{parentName:"tr",align:null}))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Arguments"),(0,a.kt)("td",{parentName:"tr",align:null},"Array")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"tick tock"),(0,a.kt)("td",{parentName:"tr",align:null},"{tick,tock}")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},'tick "tick tock"'),(0,a.kt)("td",{parentName:"tr",align:null},"{tick,tick tock}")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},'"tick" "tock"'),(0,a.kt)("td",{parentName:"tr",align:null},"{tick,tock}")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"\\","tick","\\"," ","\\","tock","\\"),(0,a.kt)("td",{parentName:"tr",align:null},'{"tick","tock"}')))),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"currentDirectory")," property of an InvokeEvent object contains a File object\nrepresenting the directory from which the application was launched."),(0,a.kt)("p",null,"When an application is invoked because a file of a type registered by the\napplication is opened, the native path to the file is included in the command\nline arguments as a string. (Your application is responsible for opening or\nperforming the intended operation on the file.) Likewise, when an application is\nprogrammed to update itself (rather than relying on the standard AIR update user\ninterface), the native path to the AIR file is included when a user\ndouble-clicks an AIR file containing an application with a matching application\nID."),(0,a.kt)("p",null,"You can access the file using the ",(0,a.kt)("inlineCode",{parentName:"p"},"resolve()")," method of the ",(0,a.kt)("inlineCode",{parentName:"p"},"currentDirectory"),"\nFile object:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"if((invokeEvent.currentDirectory != null)&&(invokeEvent.arguments.length > 0)){\n    dir = invokeEvent.currentDirectory;\n    fileToOpen = dir.resolvePath(invokeEvent.arguments[0]);\n}\n")),(0,a.kt)("p",null,"You should also validate that an argument is indeed a path to a file."),(0,a.kt)("h3",{id:"example-invocation-event-log"},"Example: Invocation event log"),(0,a.kt)("p",null,"The following example demonstrates how to register listeners for and handle the\n",(0,a.kt)("inlineCode",{parentName:"p"},"invoke")," event. The example logs all the invocation events received and displays\nthe current directory and command line arguments."),(0,a.kt)("h4",{id:"actionscript-example"},"ActionScript example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'package\n{\n    import flash.display.Sprite;\n    import flash.events.InvokeEvent;\n    import flash.desktop.NativeApplication;\n    import flash.text.TextField;\n\n    public class InvokeEventLogExample extends Sprite\n    {\n        public var log:TextField;\n\n        public function InvokeEventLogExample()\n        {\n            log = new TextField();\n            log.x = 15;\n            log.y = 15;\n            log.width = 520;\n            log.height = 370;\n            log.background = true;\n\n            addChild(log);\n\n            NativeApplication.nativeApplication.addEventListener(InvokeEvent.INVOKE, onInvoke);\n        }\n\n        public function onInvoke(invokeEvent:InvokeEvent):void\n        {\n            var now:String = new Date().toTimeString();\n            logEvent("Invoke event received: " + now);\n\n            if (invokeEvent.currentDirectory != null)\n            {\n                logEvent("Current directory=" + invokeEvent.currentDirectory.nativePath);\n            }\n            else\n            {\n                logEvent("--no directory information available--");\n            }\n\n            if (invokeEvent.arguments.length > 0)\n            {\n                logEvent("Arguments: " + invokeEvent.arguments.toString());\n            }\n            else\n            {\n                logEvent("--no arguments--");\n            }\n        }\n\n        public function logEvent(entry:String):void\n        {\n            log.appendText(entry + "\\n");\n            trace(entry);\n        }\n    }\n}\n')),(0,a.kt)("h4",{id:"flex-example"},"Flex example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<?xml version="1.0" encoding="utf-8"?>\n<mx:WindowedApplication xmlns:mx="https://www.adobe.com/2006/mxml" layout="vertical"\n    invoke="onInvoke(event)" title="Invocation Event Log">\n    <mx:Script>\n    <![CDATA[\n        import flash.events.InvokeEvent;\n        import flash.desktop.NativeApplication;\n\n        public function onInvoke(invokeEvent:InvokeEvent):void {\n            var now:String = new Date().toTimeString();\n            logEvent("Invoke event received: " + now);\n\n            if (invokeEvent.currentDirectory != null){\n                logEvent("Current directory=" + invokeEvent.currentDirectory.nativePath);\n            } else {\n                logEvent("--no directory information available--");\n            }\n\n            if (invokeEvent.arguments.length > 0){\n                logEvent("Arguments: " + invokeEvent.arguments.toString());\n            } else {\n                logEvent("--no arguments--");\n            }\n        }\n\n        public function logEvent(entry:String):void {\n            log.text += entry + "\\n";\n            trace(entry);\n        }\n    ]]>\n    </mx:Script>\n    <mx:TextArea id="log" width="100%" height="100%" editable="false"\n        valueCommit="log.verticalScrollPosition=log.textHeight;"/>\n</mx:WindowedApplication>\n')),(0,a.kt)("h2",{id:"invoking-an-air-application-on-user-login"},"Invoking an AIR application on user login"),(0,a.kt)("p",null,"An AIR application can be set to launch automatically when the current user logs\nin by setting the NativeApplication ",(0,a.kt)("inlineCode",{parentName:"p"},"startAtLogin")," property to ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),". Once set,\nthe application automatically starts whenever the user logs in. It continues to\nlaunch at login until the setting is changed to ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),", the user manually\nchanges the setting through the operating system, or the application is\nuninstalled. Launching at login is a run-time setting. The setting only applies\nto the current user. The application must be installed to successfully set the\n",(0,a.kt)("inlineCode",{parentName:"p"},"startAtLogin")," property to ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),". An error is thrown if the property is set\nwhen an application is not installed (such as when it is launched with ADL)."),(0,a.kt)("p",null,"Note: The application does not launch when the computer system starts. It\nlaunches when the user logs in."),(0,a.kt)("p",null,"To determine whether an application has launched automatically or as a result of\na user action, you can examine the ",(0,a.kt)("inlineCode",{parentName:"p"},"reason")," property of the InvokeEvent object.\nIf the property is equal to ",(0,a.kt)("inlineCode",{parentName:"p"},"InvokeEventReason.LOGIN"),", then the application\nstarted automatically. For other invocation paths, the ",(0,a.kt)("inlineCode",{parentName:"p"},"reason")," property is set\nas follows:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"InvokeEventReason.NOTIFICATION")," (iOS only) - The application was invoked\nthrough APNs. For more information on APNs, see\n",(0,a.kt)("a",{parentName:"p",href:"https://web.archive.org/web/20220814032009/https://help.adobe.com/en_US/air/build/WSd6d4f896b3a8801b7be2f55d138e29d5e40-8000.html"},"Use push notifications"),".")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"InvokeEventReason.OPEN_URL")," - The application was invoked by another\napplication or by the system.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"InvokeEventReason.Standard")," - All other cases."))),(0,a.kt)("p",null,"To access the ",(0,a.kt)("inlineCode",{parentName:"p"},"reason")," property, your application must target AIR 1.5.1 or\nhigher (by setting the correct namespace value in the application descriptor\nfile)."),(0,a.kt)("p",null,'The following, simplified application uses the InvokeEvent reason property to\ndecide how to behave when an invoke event occurs. If the reason property is\n"login", then the application remains in the background. Otherwise, it makes the\nmain application visible. An application using this pattern typically starts at\nlogin so that it can carry out background processing or event monitoring and\nopens a window in response to a user-triggered invoke event.'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'package\n{\n    import flash.desktop.InvokeEventReason;\n    import flash.desktop.NativeApplication;\n    import flash.display.Sprite;\n    import flash.events.InvokeEvent;\n\n    public class StartAtLogin extends Sprite\n    {\n        public function StartAtLogin()\n        {\n            try\n            {\n                NativeApplication.nativeApplication.startAtLogin = true;\n            }\n            catch ( e:Error )\n            {\n                trace( "Cannot set startAtLogin:" + e.message );\n            }\n\n            NativeApplication.nativeApplication.addEventListener( InvokeEvent.INVOKE, onInvoke );\n        }\n\n        private function onInvoke( event:InvokeEvent ):void\n        {\n            if( event.reason == InvokeEventReason.LOGIN )\n            {\n                //do background processing...\n                trace( "Running in background..." );\n            }\n            else\n            {\n                this.stage.nativeWindow.activate();\n            }\n        }\n    }\n}\n')),(0,a.kt)("p",null,"Note: To see the difference in behavior, package and install the application.\nThe ",(0,a.kt)("inlineCode",{parentName:"p"},"startAtLogin")," property can only be set for installed applications."),(0,a.kt)("h2",{id:"invoking-an-air-application-from-the-browser"},"Invoking an AIR application from the browser"),(0,a.kt)("p",null,"Using the browser invocation feature, a web site can launch an installed AIR\napplication to be launched from the browser. Browser invocation is only\npermitted if the application descriptor file sets ",(0,a.kt)("inlineCode",{parentName:"p"},"allowBrowserInvocation")," to\n",(0,a.kt)("inlineCode",{parentName:"p"},"true"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"<allowBrowserInvocation>true</allowBrowserInvocation>\n")),(0,a.kt)("p",null,"When the application is invoked via the browser, the application's\nNativeApplication object dispatches a BrowserInvokeEvent object."),(0,a.kt)("p",null,"To receive BrowserInvokeEvent events, call the ",(0,a.kt)("inlineCode",{parentName:"p"},"addEventListener()")," method of\nthe NativeApplication object ( ",(0,a.kt)("inlineCode",{parentName:"p"},"NativeApplication.nativeApplication"),") in the AIR\napplication. When an event listener registers for a BrowserInvokeEvent event, it\nalso receives all BrowserInvokeEvent events that occurred before the\nregistration. These events are dispatched after the call to ",(0,a.kt)("inlineCode",{parentName:"p"},"addEventListener()"),"\nreturns, but not necessarily before other BrowserInvokeEvent events that might\nbe received after registration. This allows you to handle BrowserInvokeEvent\nevents that have occurred before your initialization code executes (such as when\nthe application was initially invoked from the browser). Keep in mind that if\nyou add an event listener later in execution (after application initialization)\nit still receives all BrowserInvokeEvent events that have occurred since the\napplication started."),(0,a.kt)("p",null,"The BrowserInvokeEvent object includes the following properties:"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,(0,a.kt)("p",null,"Property")),(0,a.kt)("th",null,(0,a.kt)("p",null,"Description")))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("p",null,"arguments")),(0,a.kt)("td",null,(0,a.kt)("p",null,"An array of arguments (strings) to pass to the application."))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("p",null,"isHTTPS")),(0,a.kt)("td",null,(0,a.kt)("p",null,"Whether the content in the browser uses the https URL scheme (",(0,a.kt)("samp",null,"true"),") or not ( ",(0,a.kt)("samp",null,"false"),")."))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("p",null,"isUserEvent")),(0,a.kt)("td",null,(0,a.kt)("p",null,"Whether the browser invocation resulted in a user event (such as a mouse click). In AIR 1.0, this is always set to  ",(0,a.kt)("samp",null,"true"),"; AIR requires a user event to the browser invocation feature."))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("p",null,"sandboxType")),(0,a.kt)("td",null,(0,a.kt)("p",null,"The sandbox type for the content in the browser. Valid values are defined the same as those that can be used in the ",(0,a.kt)("samp",null,"Security.sandboxType")," property, and can be one of the following:"),(0,a.kt)("ul",{class:"incremental"},(0,a.kt)("li",null,(0,a.kt)("p",null,(0,a.kt)("samp",null,"Security.APPLICATION")," \u2014 The content is in the application security sandbox.")),(0,a.kt)("li",null,(0,a.kt)("p",null,(0,a.kt)("samp",null,"Security.LOCAL_TRUSTED")," \u2014 The content is in the local-with-filesystem security sandbox.")),(0,a.kt)("li",null,(0,a.kt)("p",null,(0,a.kt)("samp",null,"Security.LOCAL_WITH_FILE")," \u2014 The content is in the local-with-filesystem security sandbox.")),(0,a.kt)("li",null,(0,a.kt)("p",null,(0,a.kt)("samp",null,"Security.LOCAL_WITH_NETWORK")," \u2014 The content is in the local-with-networking security sandbox.")),(0,a.kt)("li",null,(0,a.kt)("p",null,(0,a.kt)("samp",null,"Security.REMOTE")," \u2014 The content is in a remote (network) domain."))))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("p",null,"securityDomain")),(0,a.kt)("td",null,(0,a.kt)("p",null,"The security domain for the content in the browser, such as ",(0,a.kt)("samp",null,'"www.adobe.com"')," or ",(0,a.kt)("samp",null,'"www.example.org"'),". This property is only set for content in the remote security sandbox (for content from a network domain). It is not set for content in a local or application security sandbox."))))),(0,a.kt)("p",null,"If you use the browser invocation feature, be sure to consider security\nimplications. When a web site launches an AIR application, it can send data via\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"arguments")," property of the BrowserInvokeEvent object. Be careful using this\ndata in any sensitive operations, such as file or code loading APIs. The level\nof risk depends on what the application is doing with the data. If you expect\nonly a specific web site to invoke the application, the application should check\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"securityDomain")," property of the BrowserInvokeEvent object. You can also\nrequire the web site invoking the application to use HTTPs, which you can verify\nby checking the ",(0,a.kt)("inlineCode",{parentName:"p"},"isHTTPS")," property of the BrowserInvokeEvent object."),(0,a.kt)("p",null,"The application should validate the data passed in. For example, if an\napplication expects to be passed URLs to a specific domain, it should validate\nthat the URLs really do point to that domain. This can prevent an attacker from\ntricking the application into sending it sensitive data."),(0,a.kt)("p",null,"No application should use BrowserInvokeEvent arguments that might point to local\nresources. For example, an application should not create File objects based on a\npath passed from the browser. If remote paths are expected to be passed from the\nbrowser, the application should ensure that the paths do not use the ",(0,a.kt)("inlineCode",{parentName:"p"},"file://"),"\nprotocol instead of a remote protocol."),(0,a.kt)("h2",{id:"application-termination"},"Application termination"),(0,a.kt)("p",null,"The quickest way to terminate an application is to call the NativeApplication\nexit() method. This works fine when your application has no data to save or\nexternal resources to clean up. Calling ",(0,a.kt)("inlineCode",{parentName:"p"},"exit()")," closes all windows and then\nterminates the application. However, to allow windows or other components of\nyour application to interrupt the termination process, perhaps to save vital\ndata, dispatch the proper warning events before calling ",(0,a.kt)("inlineCode",{parentName:"p"},"exit()"),"."),(0,a.kt)("p",null,"Another consideration in gracefully shutting down an application is providing a\nsingle execution path, no matter how the shut-down process starts. The user (or\noperating system) can trigger application termination in the following ways:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"By closing the last application window when\n",(0,a.kt)("inlineCode",{parentName:"p"},"NativeApplication.nativeApplication.autoExit")," is ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),".")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"By selecting the application exit command from the operating system; for\nexample, when the user chooses the exit application command from the default\nmenu. (This only happens on Mac OS; Windows and Linux do not provide an\napplication exit command through system chrome.)")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"By shutting down the computer."))),(0,a.kt)("p",null,"When an exit command is mediated through the operating system by one of these\nroutes, the NativeApplication dispatches an ",(0,a.kt)("inlineCode",{parentName:"p"},"exiting")," event. If no listeners\ncancel the ",(0,a.kt)("inlineCode",{parentName:"p"},"exiting")," event, any open windows are closed. Each window dispatches\na ",(0,a.kt)("inlineCode",{parentName:"p"},"closing")," and then a ",(0,a.kt)("inlineCode",{parentName:"p"},"close")," event. If any of the windows cancel the ",(0,a.kt)("inlineCode",{parentName:"p"},"closing"),"\nevent, the shut-down process stops."),(0,a.kt)("p",null,"If the order of window closure is an issue for your application, listen for the\n",(0,a.kt)("inlineCode",{parentName:"p"},"exiting")," event from the NativeApplication and close the windows in the proper\norder yourself. You might need to do this, for example, if you have a document\nwindow with tool palettes. It could be inconvenient, or worse, if the system\nclosed the palettes, but the user decided to cancel the exit command to save\nsome data. On Windows, the only time you will get the ",(0,a.kt)("inlineCode",{parentName:"p"},"exiting")," event is after\nclosing the last window (when the ",(0,a.kt)("inlineCode",{parentName:"p"},"autoExit")," property of the NativeApplication\nobject is set to ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),")."),(0,a.kt)("p",null,"To provide consistent behavior on all platforms, whether the exit sequence is\ninitiated via operating system chrome, menu commands, or application logic,\nobserve the following good practices for exiting the application:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Always dispatch an ",(0,a.kt)("inlineCode",{parentName:"p"},"exiting")," event through the NativeApplication object\nbefore calling ",(0,a.kt)("inlineCode",{parentName:"p"},"exit()")," in application code and check that another component\nof your application doesn't cancel the event."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"public function applicationExit():void {\n    var exitingEvent:Event = new Event(Event.EXITING, false, true);\n    NativeApplication.nativeApplication.dispatchEvent(exitingEvent);\n    if (!exitingEvent.isDefaultPrevented()) {\n        NativeApplication.nativeApplication.exit();\n    }\n}\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Listen for the application ",(0,a.kt)("inlineCode",{parentName:"p"},"exiting")," event from the\n",(0,a.kt)("inlineCode",{parentName:"p"},"NativeApplication.nativeApplication")," object and, in the handler, close any\nwindows (dispatching a ",(0,a.kt)("inlineCode",{parentName:"p"},"closing")," event first). Perform any needed clean-up\ntasks, such as saving application data or deleting temporary files, after\nall windows have been closed. Only use synchronous methods during cleanup to\nensure that they finish before the application quits."),(0,a.kt)("p",{parentName:"li"},"If the order in which your windows are closed doesn't matter, then you can\nloop through the ",(0,a.kt)("inlineCode",{parentName:"p"},"NativeApplication.nativeApplication.openedWindows")," array\nand close each window in turn. If order ",(0,a.kt)("em",{parentName:"p"},"does")," matter, provide a means of\nclosing the windows in the correct sequence."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"private function onExiting(exitingEvent:Event):void {\n    var winClosingEvent:Event;\n    for each (var win:NativeWindow in NativeApplication.nativeApplication.openedWindows) {\n        winClosingEvent = new Event(Event.CLOSING,false,true);\n        win.dispatchEvent(winClosingEvent);\n        if (!winClosingEvent.isDefaultPrevented()) {\n            win.close();\n        } else {\n            exitingEvent.preventDefault();\n        }\n    }\n\n    if (!exitingEvent.isDefaultPrevented()) {\n        //perform cleanup\n    }\n}\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Windows should always handle their own clean up by listening for their own\n",(0,a.kt)("inlineCode",{parentName:"p"},"closing")," events.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Only use one ",(0,a.kt)("inlineCode",{parentName:"p"},"exiting")," listener in your application since handlers called\nearlier cannot know whether subsequent handlers will cancel the ",(0,a.kt)("inlineCode",{parentName:"p"},"exiting"),"\nevent (and it would be unwise to rely on the order of execution)."))),(0,a.kt)("p",null,"More Help topics"),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(67824).Z,width:"16",height:"16"}),"\n",(0,a.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/desktop/NativeApplication.html"},"flash.desktop.NativeApplication")),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(67824).Z,width:"16",height:"16"}),"\n",(0,a.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/events/InvokeEvent.html"},"flash.events.InvokeEvent")),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(67824).Z,width:"16",height:"16"}),"\n",(0,a.kt)("a",{parentName:"p",href:"https://airsdk.dev/reference/actionscript/3.0/flash/events/BrowserInvokeEvent.html"},"flash.events.BrowserInvokeEvent")),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(581).Z,width:"16",height:"16"}),"\n",(0,a.kt)("a",{parentName:"p",href:"https://web.archive.org/web/20221230223123/https://help.adobe.com/en_US/air/build/WSfffb011ac560372f-1c6efe05128cca667e7-8000.html#WS5b3ccc516d4fbf351e63e3d118666ade46-7cd2"},"Launching an installed AIR application from the browser")),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(581).Z,width:"16",height:"16"}),"\n",(0,a.kt)("a",{parentName:"p",href:"https://web.archive.org/web/20221205160703/https://help.adobe.com/en_US/air/build/WS5b3ccc516d4fbf351e63e3d118666ade46-7ff1.html"},"Setting AIR application properties")),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(581).Z,width:"16",height:"16"}),"\n",(0,a.kt)("a",{parentName:"p",href:"https://web.archive.org/web/20220814030226/https://help.adobe.com/en_US/air/build/WS5b3ccc516d4fbf351e63e3d118666ade46-7ccd.html"},"Presenting a custom application update user interface")))}h.isMDXComponent=!0},581:(e,n,t)=>{t.d(n,{Z:()=>i});const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTM5jWRgMAAAAVdEVYdENyZWF0aW9uIFRpbWUANC8xMS8wOGYnwL4AAAQRdEVYdFhNTDpjb20uYWRvYmUueG1wADw/eHBhY2tldCBiZWdpbj0iICAgIiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDQuMS1jMDM0IDQ2LjI3Mjk3NiwgU2F0IEphbiAyNyAyMDA3IDIyOjExOjQxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4YXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPgogICAgICAgICA8eGFwOkNyZWF0b3JUb29sPkFkb2JlIEZpcmV3b3JrcyBDUzM8L3hhcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhhcDpDcmVhdGVEYXRlPjIwMDgtMDQtMTFUMDA6MjE6MzZaPC94YXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhhcDpNb2RpZnlEYXRlPjIwMDgtMDYtMTJUMjI6NTc6MTZaPC94YXA6TW9kaWZ5RGF0ZT4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIBydffwAAAIeSURBVDiNlZO9a1RREMV/c/e9lyXr8lYQIUYNBhG0CKSRSFJZiKJYpN2XrYVgCvFfsNmAnYIG/wZNZ6dtTClikBT5gHwhUbLZbN7bvXcs3n2bLUTwNHOLmTPnzMyVnUpFQxECQAAH9IBMlczHFEgHYgacqjKbplFQFmEIiETAJyhggD1VvlmLEeGmCEoOB8V72ChgfafOQNcuYJOEuf19Hq+scBDHWK+uB9i8X9l0VGmrcqRKS5VjVTrAD+e43WwyFMdcmJhgLEn6trrkESgFbVVkQJoFNlU5Pz9PFMcUMMbQATJf3PMmgmPOsOsc684xsbDArUaDjUYDiWMuvXjB3uYmHdRbyCNA0NKcSQEzN8eTxUWG4pgvScLh8jIOOKhWqc7MsPHhPSUBi2ILZS3vvaXKXV8MsFupsJZlfE1TepdHmUwSDseukvnudlBBsZ5se7tP8KDZ5HO1iqvVmKwnlOOY2bdLfLx/D6S/RuRNFKl6C1dGRrhWr+OA9tYW1akprtfrRLVaf04vh6O8UODZSXdUFsNQixkgwrkwRIGutZTDgJHxcaZevebi9DSrT+f59G4JIznB83Z3tG9BAafKrzT1vRTpddlb+87Bo4dUAsPP9BQrICL4wz2bwcB55hJRSgKpc6yfHBMYIRQIRfJPUxAc+TUOEpQk/wsBEKDkp6YYMQRefuAlCHADuMP/YwdYLa54GKj9I/lvOAF+/wE/cACxIMfzGAAAAABJRU5ErkJggg=="},67824:(e,n,t)=>{t.d(n,{Z:()=>i});const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjUwMDZGOTY2NjYxRjExRTBCNDdCQTM5RjAzRkM2RTA1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjUwMDZGOTY3NjYxRjExRTBCNDdCQTM5RjAzRkM2RTA1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTAwNkY5NjQ2NjFGMTFFMEI0N0JBMzlGMDNGQzZFMDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTAwNkY5NjU2NjFGMTFFMEI0N0JBMzlGMDNGQzZFMDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6HYd/mAAABZUlEQVR42oxSOU7EUAy1ZyKQ0o1EkQKJAgrSoKkoOAASHXfgULSUdJyAQ+QII+UMkGSSb7z9JYyQ+JJjO96fjZ+P93T3dAUX1zuALYK+hQBCYL44ZwqL6U748qHO+HZ5QyI9nB1EBWSFiJijcv9hiUE813K1gFWd1ImJ3Cn6eTC5PSZGJDVVx8AKGybC5ChOp8//keVEsETV7AEDz2lxbJC5YxjmduNEqlOwDmb5yTQKgKltEzFWLjGw8knmESxi1A5y6zaKFKLcGbkP28irVLOXHckMMYlh5j1Q0Ujqxh6PYJZpQwnpvKVijSXPqPgWWBsEuDQ4f0IMCq6HQs9Y6RZkzkERL4AElwk9r+8fMJ8SxjtgadQCtNpCuf4C3TUGR2932uYjyfu3jpNMp+dVzcHKfC1F4OoO/n7is3l+f4Xz/S2vEZQGTjhE+Rd9hzUf4031fU9d18F/X13X0DQNtG2LPwIMALHE9dBufo94AAAAAElFTkSuQmCC"}}]);